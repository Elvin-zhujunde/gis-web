import{x as e,a as t,k as o,W as l,U as n,C as a,$ as i,M as r}from"../@vavt/@vavt.656062cf.js";import{d as s,i as c,c as d,a as u,r as m,w as p,o as g,m as h,y as v,s as f,k as b,n as y,G as k,h as w,p as $,F as C,A as x,e as T}from"../@vue/@vue.591b34be.js";import{_ as S,E as I,H as A,s as E,k as F,d as L,h as j,i as M,a as H,m as O,u as B,r as P,b as V,c as N,e as D,f as z,p as R,C as _,l as W,g as q,S as U,j as K}from"../@codemirror/@codemirror.38e10088.js";import{a as G}from"../@lezer/@lezer.22c5012d.js";import{m as X}from"../medium-zoom/medium-zoom.864539b5.js";import{c as Z}from"../copy-to-clipboard/copy-to-clipboard.37c387dd.js";import{M as J}from"../markdown-it/markdown-it.1acbd8b5.js";import{r as Y}from"../markdown-it-image-figures/markdown-it-image-figures.7783cbd4.js";import{T as Q}from"../markdown-it-task-lists/markdown-it-task-lists.ed5f707f.js";import{L as ee}from"../lru-cache/lru-cache.0c2bb71f.js";const te="md-editor",oe="https://cdnjs.cloudflare.com/ajax/libs",le={main:`${oe}/prettier/2.8.0/standalone.js`,markdown:`${oe}/prettier/2.8.0/parser-markdown.js`},ne=["bold","underline","italic","strikeThrough","-","title","sub","sup","quote","unorderedList","orderedList","task","-","codeRow","code","link","image","table","mermaid","katex","-","revoke","next","save","=","prettier","pageFullscreen","fullscreen","preview","previewOnly","htmlPreview","catalog","github"],ae=["markdownTotal","=","scrollSwitch"],ie={"zh-CN":{toolbarTips:{bold:"加粗",underline:"下划线",italic:"斜体",strikeThrough:"删除线",title:"标题",sub:"下标",sup:"上标",quote:"引用",unorderedList:"无序列表",orderedList:"有序列表",task:"任务列表",codeRow:"行内代码",code:"块级代码",link:"链接",image:"图片",table:"表格",mermaid:"mermaid图",katex:"katex公式",revoke:"后退",next:"前进",save:"保存",prettier:"美化",pageFullscreen:"浏览器全屏",fullscreen:"屏幕全屏",preview:"预览",previewOnly:"仅预览",htmlPreview:"html代码预览",catalog:"目录",github:"源码地址"},titleItem:{h1:"一级标题",h2:"二级标题",h3:"三级标题",h4:"四级标题",h5:"五级标题",h6:"六级标题"},imgTitleItem:{link:"添加链接",upload:"上传图片",clip2upload:"裁剪上传"},linkModalTips:{linkTitle:"添加链接",imageTitle:"添加图片",descLabel:"链接描述：",descLabelPlaceHolder:"请输入描述...",urlLabel:"链接地址：",urlLabelPlaceHolder:"请输入链接...",buttonOK:"确定"},clipModalTips:{title:"裁剪图片上传",buttonUpload:"上传"},copyCode:{text:"复制代码",successTips:"已复制！",failTips:"复制失败！"},mermaid:{flow:"流程图",sequence:"时序图",gantt:"甘特图",class:"类图",state:"状态图",pie:"饼图",relationship:"关系图",journey:"旅程图"},katex:{inline:"行内公式",block:"块级公式"},footer:{markdownTotal:"字数",scrollAuto:"同步滚动"}},"en-US":{toolbarTips:{bold:"bold",underline:"underline",italic:"italic",strikeThrough:"strikeThrough",title:"title",sub:"subscript",sup:"superscript",quote:"quote",unorderedList:"unordered list",orderedList:"ordered list",task:"task list",codeRow:"inline code",code:"block-level code",link:"link",image:"image",table:"table",mermaid:"mermaid",katex:"formula",revoke:"revoke",next:"undo revoke",save:"save",prettier:"prettier",pageFullscreen:"fullscreen in page",fullscreen:"fullscreen",preview:"preview",previewOnly:"preview only",htmlPreview:"html preview",catalog:"catalog",github:"source code"},titleItem:{h1:"Lv1 Heading",h2:"Lv2 Heading",h3:"Lv3 Heading",h4:"Lv4 Heading",h5:"Lv5 Heading",h6:"Lv6 Heading"},imgTitleItem:{link:"Add Img Link",upload:"Upload Img",clip2upload:"Clip Upload"},linkModalTips:{linkTitle:"Add Link",imageTitle:"Add Image",descLabel:"Desc:",descLabelPlaceHolder:"Enter a description...",urlLabel:"Link:",urlLabelPlaceHolder:"Enter a link...",buttonOK:"OK"},clipModalTips:{title:"Crop Image",buttonUpload:"Upload"},copyCode:{text:"Copy",successTips:"Copied!",failTips:"Copy failed!"},mermaid:{flow:"flow",sequence:"sequence",gantt:"gantt",class:"class",state:"state",pie:"pie",relationship:"relationship",journey:"journey"},katex:{inline:"inline",block:"block"},footer:{markdownTotal:"Character Count",scrollAuto:"Scroll Auto"}}},re={a11y:{light:`${oe}/highlight.js/11.8.0/styles/a11y-light.min.css`,dark:`${oe}/highlight.js/11.8.0/styles/a11y-dark.min.css`},atom:{light:`${oe}/highlight.js/11.8.0/styles/atom-one-light.min.css`,dark:`${oe}/highlight.js/11.8.0/styles/atom-one-dark.min.css`},github:{light:`${oe}/highlight.js/11.8.0/styles/github.min.css`,dark:`${oe}/highlight.js/11.8.0/styles/github-dark.min.css`},gradient:{light:`${oe}/highlight.js/11.8.0/styles/gradient-light.min.css`,dark:`${oe}/highlight.js/11.8.0/styles/gradient-dark.min.css`},kimbie:{light:`${oe}/highlight.js/11.8.0/styles/kimbie-light.min.css`,dark:`${oe}/highlight.js/11.8.0/styles/kimbie-dark.min.css`},paraiso:{light:`${oe}/highlight.js/11.8.0/styles/paraiso-light.min.css`,dark:`${oe}/highlight.js/11.8.0/styles/paraiso-dark.min.css`},qtcreator:{light:`${oe}/highlight.js/11.8.0/styles/qtcreator-light.min.css`,dark:`${oe}/highlight.js/11.8.0/styles/qtcreator-dark.min.css`},stackoverflow:{light:`${oe}/highlight.js/11.8.0/styles/stackoverflow-light.min.css`,dark:`${oe}/highlight.js/11.8.0/styles/stackoverflow-dark.min.css`}},se={editorExtensions:{highlight:{js:`${oe}/highlight.js/11.8.0/highlight.min.js`,css:re},prettier:{standaloneJs:le.main,parserMarkdownJs:le.markdown},cropper:{...{css:`${oe}/cropperjs/1.5.13/cropper.min.css`,js:`${oe}/cropperjs/1.5.13/cropper.min.js`}},iconfont:"https://at.alicdn.com/t/c/font_2605852_cmafimm6hot.js",iconfontClass:"https://at.alicdn.com/t/c/font_2605852_cmafimm6hot.css",screenfull:{js:`${oe}/screenfull.js/5.2.0/screenfull.min.js`},mermaid:{js:`${oe}/mermaid/10.6.1/mermaid.esm.min.mjs`},katex:{...{js:`${oe}/KaTeX/0.16.9/katex.min.js`,css:`${oe}/KaTeX/0.16.9/katex.min.css`}}},editorExtensionsAttrs:{},editorConfig:{languageUserDefined:{},mermaidTemplate:{},renderDelay:500,zIndex:2e4},codeMirrorExtensions:(e,t)=>t,markdownItConfig:()=>{},markdownItPlugins:e=>e,iconfontType:"svg",mermaidConfig:e=>e},ce=170,de=({instance:e,ctx:t,props:o={}},l="default")=>{const n=(null==e?void 0:e.$slots[l])||(null==t?void 0:t.slots[l]);return(n?n(e):"")||o[l]},ue=s({props:{overlay:{type:[String,Object],default:""},visible:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}},relative:{type:String,default:"html"}},setup(e,t){const o=`${te}-dropdown-hidden`,l=u({overlayClass:[o],overlayStyle:{},triggerHover:!1,overlayHover:!1}),n=m(),a=m(),i=()=>{var t,o;l.triggerHover=!0;const i=n.value,r=a.value;if(!i||!r)return;const s=i.getBoundingClientRect(),c=i.offsetTop,d=i.offsetLeft,u=s.height,m=s.width,p=(null==(t=document.querySelector(e.relative))?void 0:t.scrollLeft)||0,g=(null==(o=document.querySelector(e.relative))?void 0:o.clientWidth)||0;let h=d-r.offsetWidth/2+m/2-p;h+r.offsetWidth>p+g&&(h=p+g-r.offsetWidth),h<0&&(h=0),l.overlayStyle={...l.overlayStyle,top:c+u+"px",left:h+"px"},e.onChange(!0)},r=()=>{l.overlayHover=!0};p((()=>e.visible),(e=>{e?l.overlayClass=l.overlayClass.filter((e=>e!==o)):l.overlayClass.push(o)}));let s=-1;const c=t=>{n.value===t.target?l.triggerHover=!1:l.overlayHover=!1,clearTimeout(s),s=window.setTimeout((()=>{l.overlayHover||l.triggerHover||e.onChange(!1)}),10)};return g((()=>{n.value.addEventListener("mouseenter",i),n.value.addEventListener("mouseleave",c),a.value.addEventListener("mouseenter",r),a.value.addEventListener("mouseleave",c)})),h((()=>{n.value.removeEventListener("mouseenter",i),n.value.removeEventListener("mouseleave",c),a.value.removeEventListener("mouseenter",r),a.value.removeEventListener("mouseleave",c)})),()=>{const o=de({ctx:t}),i=de({props:e,ctx:t},"overlay");return[v(o instanceof Array?o[0]:o,{ref:n,key:"cloned-dropdown-trigger"}),d("div",{class:[`${te}-dropdown`,l.overlayClass],style:l.overlayStyle,ref:a},[d("div",{class:`${te}-dropdown-overlay`},[i instanceof Array?i[0]:i])])]}}}),me=s({name:"DropdownToolbar",props:{title:{type:String,default:""},visible:{type:Boolean},trigger:{type:[String,Object]},onChange:{type:Function},overlay:{type:[String,Object]},insert:{type:Function},language:{type:String},theme:{type:String},previewTheme:{type:String},default:{type:[String,Object]}},emits:["onChange"],setup(e,t){const o=c("editorId");return()=>{const l=de({props:e,ctx:t},"trigger"),n=de({props:e,ctx:t},"overlay"),a=de({props:e,ctx:t});return d(ue,{relative:`#${o}-toolbar-wrapper`,visible:e.visible,onChange:o=>{e.onChange instanceof Function?e.onChange(o):t.emit("onChange",o)},overlay:n},{default:()=>[d("div",{class:`${te}-toolbar-item`,title:e.title||""},[l,a])]})}}});me.install=e=>(e.component(me.name,me),e);var pe=Object.defineProperty,ge=(e,t,o)=>(((e,t,o)=>{t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o})(e,"symbol"!=typeof t?t+"":t,o),o);const he=new class{constructor(){ge(this,"pools",{})}remove(e,t,o){const l=this.pools[e]&&this.pools[e][t];l&&(this.pools[e][t]=l.filter((e=>e!==o)))}clear(e){this.pools[e]={}}on(e,t){return this.pools[e]||(this.pools[e]={}),this.pools[e][t.name]||(this.pools[e][t.name]=[]),this.pools[e][t.name].push(t.callback),this.pools[e][t.name].includes(t.callback)}emit(e,t,...o){this.pools[e]||(this.pools[e]={});const l=this.pools[e][t];l&&l.forEach((e=>{try{e(...o)}catch(l){console.error(`${t} monitor event exception！`,l)}}))}},ve="onSave",fe="changeCatalogVisible",be="changeFullscreen",ye="pageFullscreenChanged",ke="fullscreenChanged",we="previewChanged",$e="previewOnlyChanged",Ce="htmlPreviewChanged",xe="catalogVisibleChanged",Te="buildFinished",Se="errorCatcher",Ie="replace",Ae="uploadImage",Ee="openModals",Fe="ctrlZ",Le="ctrlShiftZ",je="catalogChanged",Me="pushCatalog",He="rerender",Oe="eventListener",Be=(e,t)=>{const o=o=>{const l=e.parentElement||document.body,n=l.offsetWidth,a=l.offsetHeight,{clientWidth:i,clientHeight:r}=document.documentElement,s=o.offsetX,c=o.offsetY,d=e=>{let o=e.x+document.body.scrollLeft-document.body.clientLeft-s,d=e.y+document.body.scrollTop-document.body.clientTop-c;o=o<1?1:o<i-n-1?o:i-n-1,d=d<1?1:d<r-a-1?d:r-a-1,t?t(o,d):(l.style.left=`${o}px`,l.style.top=`${d}px`)};document.addEventListener("mousemove",d);const u=()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",u)};document.addEventListener("mouseup",u)};return e.addEventListener("mousedown",o),()=>{e.removeEventListener("mousedown",o)}},Pe=(e,t,o="")=>{var l;const n=document.getElementById(t.id);if(n)""!==o&&(Reflect.get(window,o)?null==(l=t.onload)||l.call(n,new Event("load")):t.onload&&n.addEventListener("load",t.onload));else{const o={...t};o.onload=null;const l=Ve(e,o);t.onload&&l.addEventListener("load",t.onload),document.head.appendChild(l)}},Ve=(e,t)=>{const o=document.createElement(e);return Object.keys(t).forEach((e=>{void 0!==t[e]&&(o[e]=t[e])})),o},Ne=(e,t="image.png")=>{const o=e.split(","),l=o[0].match(/:(.*?);/);if(l){const e=l[1],n=atob(o[1]);let a=n.length;const i=new Uint8Array(a);for(;a--;)i[a]=n.charCodeAt(a);return new File([i],t,{type:e})}return null},De=(()=>{let e=0;return t=>t+ ++e})(),ze=(()=>{let e=0;return()=>++e})(),Re=s({props:{name:{type:String,default:""}},setup:e=>()=>d("svg",{class:`${te}-icon`,"aria-hidden":"true"},[d("use",{"xlink:href":`#${te}-icon-${e.name}`},null)])}),_e=s({props:{name:{type:String,default:""}},setup(e){const t=c("customIcon");return()=>{const o=t.value[e.name];return"object"==typeof o?"object"==typeof o.component?w(o.component,o.props):d("span",{innerHTML:o.component},null):d(Re,{name:e.name},null)}}}),We=s({name:"MdModal",props:{title:{type:String,default:""},visible:{type:Boolean,default:!1},width:{type:String,default:"auto"},height:{type:String,default:"auto"},onClose:{type:Function},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function,default:()=>{}},class:{type:String},style:{type:[Object,String],default:()=>({})},showMask:{type:Boolean,default:!0}},emits:["onClose"],setup(e,t){const o=c("theme"),l=m(e.visible),n=m([`${te}-modal`]),a=m(),i=m(),r=m(),s=f();let h=()=>{};const v=u({maskStyle:{zIndex:-1},modalStyle:{zIndex:-1},initPos:{left:"0px",top:"0px"},historyPos:{left:"0px",top:"0px"}}),w=b((()=>e.isFullscreen?{width:"100%",height:"100%"}:{width:e.width,height:e.height}));p((()=>e.isFullscreen),(e=>{e?h():y((()=>{h=Be(i.value,((e,t)=>{v.initPos.left=e+"px",v.initPos.top=t+"px"}))}))})),p((()=>e.visible),(t=>{t?(v.maskStyle.zIndex=se.editorConfig.zIndex+ze(),v.modalStyle.zIndex=se.editorConfig.zIndex+ze(),n.value.push("zoom-in"),l.value=t,y((()=>{const t=a.value.offsetWidth/2,o=a.value.offsetHeight/2,l=document.documentElement.clientWidth/2,n=document.documentElement.clientHeight/2;v.initPos.left=l-t+"px",v.initPos.top=n-o+"px",e.isFullscreen||(h=Be(i.value,((e,t)=>{v.initPos.left=e+"px",v.initPos.top=t+"px"})))})),setTimeout((()=>{n.value=n.value.filter((e=>"zoom-in"!==e))}),140)):(n.value.push("zoom-out"),h(),setTimeout((()=>{n.value=n.value.filter((e=>"zoom-out"!==e)),l.value=t}),130))}));const $=b((()=>({display:l.value?"block":"none"}))),C=b((()=>"string"==typeof e.style?[e.style,$.value].join("; "):e.style instanceof Object?{...$.value,...e.style}:$.value));return g((()=>{r.value=document.body})),()=>{const l=de({ctx:t}),c=de({props:e,ctx:t},"title");return r.value?d(k,{to:r.value},{default:()=>[d("div",{ref:s,class:`${te}-modal-container`,"data-theme":o.value},[d("div",{class:e.class,style:C.value},[e.showMask&&d("div",{class:`${te}-modal-mask`,style:v.maskStyle,onClick:()=>{e.onClose?e.onClose():t.emit("onClose")}},null),d("div",{class:n.value,style:{...v.modalStyle,...v.initPos,...w.value},ref:a},[d("div",{class:`${te}-modal-header`,ref:i},[c||""]),d("div",{class:`${te}-modal-body`},[l]),d("div",{class:`${te}-modal-func`},[e.showAdjust&&d("div",{class:`${te}-modal-adjust`,onClick:t=>{t.stopPropagation(),e.isFullscreen?v.initPos=v.historyPos:(v.historyPos=v.initPos,v.initPos={left:"0",top:"0"}),e.onAdjust(!e.isFullscreen)}},[d(_e,{name:e.isFullscreen?"suoxiao":"fangda"},null)]),d("div",{class:`${te}-modal-close`,onClick:o=>{o.stopPropagation(),e.onClose?e.onClose():t.emit("onClose")}},[d(_e,{name:"close"},null)])])])])])]}):""}}});function qe(e,t){for(var o=0;o<t.length;o++){const l=t[o];if("string"!=typeof l&&!Array.isArray(l))for(const t in l)if("default"!==t&&!(t in e)){const o=Object.getOwnPropertyDescriptor(l,t);o&&Object.defineProperty(e,t,o.get?o:{enumerable:!0,get:()=>l[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}We.install=e=>(e.component(We.name,We),e);const Ue=e=>{const t=c("highlight"),o=f(se.editorExtensions.highlight.instance);return g((()=>{e.noHighlight||o.value||(Pe("link",{...t.value.css,rel:"stylesheet",id:`${te}-hlCss`}),Pe("script",{...t.value.js,id:`${te}-hljs`,onload(){o.value=window.hljs}},"hljs"))})),p((()=>t.value.css),(()=>{e.noHighlight||((e,t)=>{const o=document.getElementById(t.id);null==o||o.remove(),Pe(e,t)})("link",{...t.value.css,rel:"stylesheet",id:`${te}-hlCss`})})),o},Ke=(e,t)=>{const o=e.renderer.rules.fence.bind(e.renderer.rules);e.renderer.rules.fence=(e,l,n,a,i)=>{const r=e[l],s=r.content.trim();if("mermaid"===r.info){let o;return e[l].map&&0===e[l].level&&(o=e[l].map[0],e[l].attrSet("data-line",String(o))),`<div class="${te}-mermaid" ${void 0!==o?"data-line="+o:""} data-mermaid-theme=${t.themeRef.value}>${s}</div>`}return o(e,l,n,a,i)}},Ge=(e,t)=>{const o=e.attrs?e.attrs.slice():[];return t.forEach((t=>{const l=e.attrIndex(t[0]);l<0?o.push(t):(o[l]=o[l].slice(),o[l][1]+=` ${t[1]}`)})),o},Xe=(e,t)=>{let o=!0,l=!0;const n=e.posMax,a=t>0?e.src.charCodeAt(t-1):-1,i=t+1<=n?e.src.charCodeAt(t+1):-1;return(32===a||9===a||i>=48&&i<=57)&&(l=!1),32!==i&&9!==i||(o=!1),{can_open:o,can_close:l}},Ze=(e,t)=>{let o,l,n,a;if("$"!==e.src[e.pos])return!1;if(n=Xe(e,e.pos),!n.can_open)return t||(e.pending+="$"),e.pos+=1,!0;const i=e.pos+1;for(o=i;-1!==(o=e.src.indexOf("$",o));){for(a=o-1;"\\"===e.src[a];)a-=1;if((o-a)%2==1)break;o+=1}return-1===o?(t||(e.pending+="$"),e.pos=i,!0):o-i==0?(t||(e.pending+="$$"),e.pos=i+1,!0):(n=Xe(e,o),n.can_close?(t||(l=e.push("math_inline","math",0),l.markup="$",l.content=e.src.slice(i,o)),e.pos=o+1,!0):(t||(e.pending+="$"),e.pos=i,!0))},Je=(e,t,o,l)=>{let n,a,i,r,s=!1,c=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(c+2>d)return!1;if("$$"!==e.src.slice(c,c+2))return!1;if(c+=2,n=e.src.slice(c,d),l)return!0;for("$$"===n.trim().slice(-2)&&(n=n.trim().slice(0,-2),s=!0),i=t;!s&&(i++,!(i>=o))&&(c=e.bMarks[i]+e.tShift[i],d=e.eMarks[i],!(c<d&&e.tShift[i]<e.blkIndent));)"$$"===e.src.slice(c,d).trim().slice(-2)&&(r=e.src.slice(0,d).lastIndexOf("$$"),a=e.src.slice(c,r),s=!0);e.line=i+1;const u=e.push("math_block","math",0);return u.block=!0,u.content=(n&&n.trim()?n+"\n":"")+e.getLines(t+1,i,e.tShift[t],!0)+(a&&a.trim()?a:""),u.map=[t,e.line],u.markup="$$",!0},Ye=(e,{katexRef:t})=>{e.inline.ruler.after("escape","math_inline",Ze),e.block.ruler.after("blockquote","math_block",Je,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.math_inline=(e,o,l,n,a)=>{const i=e[o],r={attrs:Ge(i,[["class",`${te}-katex-inline`]])};if(t.value){const e=t.value.renderToString(i.content,{throwOnError:!1});return`<span ${a.renderAttrs(r)} data-processed>${e}</span>`}return`<span ${a.renderAttrs(r)}>${i.content}</span>`},e.renderer.rules.math_block=(e,o,l,n,a)=>{const i=e[o],r={attrs:Ge(i,[["class",`${te}-katex-block`]])};if(t.value){const e=t.value.renderToString(i.content,{throwOnError:!1,displayMode:!0});return`<p ${a.renderAttrs(r)} data-processed>${e}</p>`}return`<p ${a.renderAttrs(r)}>${i.content}</p>`}},Qe=(e,t)=>{const o=(t=t||{}).marker||"!",l=o.charCodeAt(0),n=o.length;let a="",i="";const r=(e,t,o,l,n)=>{const a=e[t];return"admonition_open"===a.type?e[t].attrPush(["class",`${te}-admonition ${te}-admonition-${a.info}`]):"admonition_title_open"===a.type&&e[t].attrPush(["class",`${te}-admonition-title`]),n.renderToken(e,t,o)};e.block.ruler.before("code","admonition",((e,t,r,s)=>{let c,d,u,m=!1,p=e.bMarks[t]+e.tShift[t],g=e.eMarks[t];if(l!==e.src.charCodeAt(p))return!1;for(c=p+1;c<=g&&o[(c-p)%n]===e.src[c];c++);const h=Math.floor((c-p)/n);if(3!==h)return!1;c-=(c-p)%n;const v=e.src.slice(p,c);if((e=>{const t=e.trim().split(" ",2);i="",a=t[0],t.length>1&&(i=e.substring(a.length+2))})(e.src.slice(c,g)),s)return!0;for(d=t;(d++,!(d>=r))&&(p=e.bMarks[d]+e.tShift[d],g=e.eMarks[d],!(p<g&&e.sCount[d]<e.blkIndent));)if(l===e.src.charCodeAt(p)&&!(e.sCount[d]-e.blkIndent>=4)){for(c=p+1;c<=g&&o[(c-p)%n]===e.src[c];c++);if(!(Math.floor((c-p)/n)<h||(c-=(c-p)%n,c=e.skipSpaces(c),c<g))){m=!0;break}}const f=e.parentType,b=e.lineMax;return e.parentType="root",e.lineMax=d,u=e.push("admonition_open","div",1),u.markup=v,u.block=!0,u.info=a,u.map=[t,d],i&&(u=e.push("admonition_title_open","p",1),u.markup=v+" "+a,u.map=[t,d],u=e.push("inline","",0),u.content=i,u.map=[t,e.line-1],u.children=[],u=e.push("admonition_title_close","p",-1),u.markup=v+" "+a),e.md.block.tokenize(e,t+1,d),u=e.push("admonition_close","div",-1),u.markup=e.src.slice(p,c),u.block=!0,e.parentType=f,e.lineMax=b,e.line=d+(m?1:0),!0}),{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.admonition_open=r,e.renderer.rules.admonition_title_open=r,e.renderer.rules.admonition_title_close=r,e.renderer.rules.admonition_close=r},et=(e,t)=>{e.renderer.rules.heading_open=(o,l)=>{var n;const a=o[l],i=(null==(n=o[l+1].children)?void 0:n.reduce(((e,t)=>e+(["text","code_inline"].includes(t.type)&&t.content||"")),""))||"",r=a.markup.length;return t.headsRef.value.push({text:i,level:r}),a.map&&0===a.level&&a.attrSet("id",t.mdHeadingId(i,r,t.headsRef.value.length)),e.renderer.renderToken(o,l,t)},e.renderer.rules.heading_close=(e,t,o,l,n)=>n.renderToken(e,t,o)},tt=(e,t)=>{if("string"==typeof t[e])return t[e];return"svg"===se.iconfontType?`<svg class="${te}-icon" aria-hidden="true"><use xlink:href="#${te}-icon-${e}"></use></svg>`:`<i class="${te}-iconfont ${te}-icon-${e}"></i>`},ot=(e,t)=>{const o=e.renderer.rules.fence,l=e.utils.unescapeAll,n=/\[(\w*)(?::([\w ]*))?\]/,a=/::(open|close)/,i=e=>e.info?l(e.info).trim():"",r=e=>{const t=i(e),[o=null,l=""]=(n.exec(t)||[]).slice(1);return[o,l]},s=e=>{const t=i(e);return t?t.split(/(\s+)/g)[0]:""},c=e=>{const o=e.info.match(a)||[];return{open:"open"===o[1]||"close"!==o[1]&&t.codeFoldable&&e.content.trim().split("\n").length<t.autoFoldThreshold,tagContainer:o[1]||t.codeFoldable?"details":"div",tagHeader:o[1]||t.codeFoldable?"summary":"div"}},d=(e,l,i,d,u)=>{var m;if(e[l].hidden)return"";const p=null==(m=t.usedLanguageTextRef.value)?void 0:m.copyCode.text,g=t.customIconRef.value.copy||p,h=!!t.customIconRef.value.copy,v=`<span class="${te}-collapse-tips">${tt("collapse-tips",t.customIconRef.value)}</span>`,[f]=r(e[l]);if(null===f){const{open:t,tagContainer:n,tagHeader:r}=c(e[l]),s=[["class",`${te}-code`]];t&&s.push(["open",""]);const m={attrs:Ge(e[l],s)};e[l].info=e[l].info.replace(a,"");const f=o(e,l,i,d,u);return`<${n} ${u.renderAttrs(m)}>\n        <${r} class="${te}-code-head">\n          <div class="${te}-code-flag"><span></span><span></span><span></span></div>\n          <div class="${te}-code-action">\n            <span class="${te}-code-lang">${e[l].info.trim()}</span>\n            <span class="${te}-copy-button" data-tips="${p}"${h?" data-is-icon=true":""}">${g}</span>\n            ${"details"===n?v:""}\n          </div>\n        </${r}>${f}</${n}>`}let b,y,k,w,$="",C="",x="";const{open:T,tagContainer:S,tagHeader:I}=c(e[l]),A=[["class",`${te}-code`]];T&&A.push(["open",""]);const E={attrs:Ge(e[l],A)};for(let c=l;c<e.length&&(b=e[c],[y,k]=r(b),y===f);c++){b.info=b.info.replace(n,"").replace(a,""),b.hidden=!0;const r=`${te}-codetab-${t.editorId}-${l}-${c-l}`;w=c-l>0?"":"checked",$+=`<li>\n          <input type="radio" name="${te}-codetab-label-${t.editorId}-${l}" class="${r}" ${w}>\n          <label onclick="document.querySelectorAll('.${r}').forEach(e => e.click())">${k||s(b)}</label>\n        </li>`,C+=`<input type="radio" name="${te}-codetab-pre-${t.editorId}-${l}" class="${r}" ${w}>\n      ${o(e,c,i,d,u)}`,x+=`<input type="radio" name="${te}-codetab-lang-${t.editorId}-${l}" class="${r}" ${w}>\n      <span class=${te}-code-lang>${s(b)}</span>`}return`<${S} ${u.renderAttrs(E)}>\n    <${I} class="${te}-code-head">\n      <div class="${te}-code-flag">\n        <ul class="${te}-codetab-label">${$}</ul>\n      </div>\n      <div class="${te}-code-action">\n        <span class="${te}-codetab-lang">${x}</span>\n        <span class="${te}-copy-button" data-tips="${p}"${h?" data-is-icon=true":""}">${g}</span>\n        ${"details"===S?v:""}\n      </div>\n    </${I}>${C}</${S}>`};e.renderer.rules.fence=d,e.renderer.rules.code_block=d};function lt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nt={exports:{}},at={},it={exports:{}},rt={};function st(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var ct=/javascript\s*\:/gim;rt.whiteList=st(),rt.getDefaultWhiteList=st,rt.onAttr=function(e,t,o){},rt.onIgnoreAttr=function(e,t,o){},rt.safeAttrValue=function(e,t){return ct.test(t)?"":t};var dt={indexOf:function(e,t){var o,l;if(Array.prototype.indexOf)return e.indexOf(t);for(o=0,l=e.length;o<l;o++)if(e[o]===t)return o;return-1},forEach:function(e,t,o){var l,n;if(Array.prototype.forEach)return e.forEach(t,o);for(l=0,n=e.length;l<n;l++)t.call(o,e[l],l,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}};var ut=rt,mt=function(e,t){";"!==(e=dt.trimRight(e))[e.length-1]&&(e+=";");var o=e.length,l=!1,n=0,a=0,i="";function r(){if(!l){var o=dt.trim(e.slice(n,a)),r=o.indexOf(":");if(-1!==r){var s=dt.trim(o.slice(0,r)),c=dt.trim(o.slice(r+1));if(s){var d=t(n,i.length,s,c,o);d&&(i+=d+"; ")}}}n=a+1}for(;a<o;a++){var s=e[a];if("/"===s&&"*"===e[a+1]){var c=e.indexOf("*/",a+2);if(-1===c)break;n=(a=c+1)+1,l=!1}else"("===s?l=!0:")"===s?l=!1:";"===s?l||r():"\n"===s&&r()}return dt.trim(i)};function pt(e){return null==e}function gt(e){(e=function(e){var t={};for(var o in e)t[o]=e[o];return t}(e||{})).whiteList=e.whiteList||ut.whiteList,e.onAttr=e.onAttr||ut.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||ut.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||ut.safeAttrValue,this.options=e}gt.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,o=t.whiteList,l=t.onAttr,n=t.onIgnoreAttr,a=t.safeAttrValue;return mt(e,(function(e,t,i,r,s){var c=o[i],d=!1;if(!0===c?d=c:"function"==typeof c?d=c(r):c instanceof RegExp&&(d=c.test(r)),!0!==d&&(d=!1),r=a(i,r)){var u,m={position:t,sourcePosition:e,source:s,isWhite:d};return d?pt(u=l(i,r,m))?i+":"+r:u:pt(u=n(i,r,m))?void 0:u}}))};var ht=gt;!function(e,t){var o=rt,l=ht;for(var n in(t=e.exports=function(e,t){return new l(t).process(e)}).FilterCSS=l,o)t[n]=o[n];"undefined"!=typeof window&&(window.filterCSS=e.exports)}(it,it.exports);var vt=it.exports,ft={indexOf:function(e,t){var o,l;if(Array.prototype.indexOf)return e.indexOf(t);for(o=0,l=e.length;o<l;o++)if(e[o]===t)return o;return-1},forEach:function(e,t,o){var l,n;if(Array.prototype.forEach)return e.forEach(t,o);for(l=0,n=e.length;l<n;l++)t.call(o,e[l],l,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}},bt=vt.FilterCSS,yt=vt.getDefaultWhiteList,kt=ft;function wt(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var $t=new bt;function Ct(e){return e.replace(xt,"&lt;").replace(Tt,"&gt;")}var xt=/</g,Tt=/>/g,St=/"/g,It=/&quot;/g,At=/&#([a-zA-Z0-9]*);?/gim,Et=/&colon;?/gim,Ft=/&newline;?/gim,Lt=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,jt=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Mt=/u\s*r\s*l\s*\(.*/gi;function Ht(e){return e.replace(St,"&quot;")}function Ot(e){return e.replace(It,'"')}function Bt(e){return e.replace(At,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function Pt(e){return e.replace(Et,":").replace(Ft," ")}function Vt(e){for(var t="",o=0,l=e.length;o<l;o++)t+=e.charCodeAt(o)<32?" ":e.charAt(o);return kt.trim(t)}function Nt(e){return e=Vt(e=Pt(e=Bt(e=Ot(e))))}function Dt(e){return e=Ct(e=Ht(e))}at.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},at.getDefaultWhiteList=wt,at.onTag=function(e,t,o){},at.onIgnoreTag=function(e,t,o){},at.onTagAttr=function(e,t,o){},at.onIgnoreTagAttr=function(e,t,o){},at.safeAttrValue=function(e,t,o,l){if(o=Nt(o),"href"===t||"src"===t){if("#"===(o=kt.trim(o)))return"#";if("http://"!==o.substr(0,7)&&"https://"!==o.substr(0,8)&&"mailto:"!==o.substr(0,7)&&"tel:"!==o.substr(0,4)&&"data:image/"!==o.substr(0,11)&&"ftp://"!==o.substr(0,6)&&"./"!==o.substr(0,2)&&"../"!==o.substr(0,3)&&"#"!==o[0]&&"/"!==o[0])return""}else if("background"===t){if(Lt.lastIndex=0,Lt.test(o))return""}else if("style"===t){if(jt.lastIndex=0,jt.test(o))return"";if(Mt.lastIndex=0,Mt.test(o)&&(Lt.lastIndex=0,Lt.test(o)))return"";!1!==l&&(o=(l=l||$t).process(o))}return o=Dt(o)},at.escapeHtml=Ct,at.escapeQuote=Ht,at.unescapeQuote=Ot,at.escapeHtmlEntities=Bt,at.escapeDangerHtml5Entities=Pt,at.clearNonPrintableCharacter=Vt,at.friendlyAttrValue=Nt,at.escapeAttrValue=Dt,at.onIgnoreTagStripAll=function(){return""},at.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var o=!Array.isArray(e),l=[],n=!1;return{onIgnoreTag:function(a,i,r){if(function(t){return!!o||-1!==kt.indexOf(e,t)}(a)){if(r.isClosing){var s="[/removed]",c=r.position+10;return l.push([!1!==n?n:r.position,c]),n=!1,s}return n||(n=r.position),"[removed]"}return t(a,i,r)},remove:function(e){var t="",o=0;return kt.forEach(l,(function(l){t+=e.slice(o,l[0]),o=l[1]})),t+=e.slice(o)}}},at.stripCommentTag=function(e){for(var t="",o=0;o<e.length;){var l=e.indexOf("\x3c!--",o);if(-1===l){t+=e.slice(o);break}t+=e.slice(o,l);var n=e.indexOf("--\x3e",l);if(-1===n)break;o=n+3}return t},at.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},at.attributeWrapSign='"',at.cssFilter=$t,at.getDefaultCSSWhiteList=yt;var zt={},Rt=ft;function _t(e){var t,o=Rt.spaceIndex(e);return t=-1===o?e.slice(1,-1):e.slice(1,o+1),"/"===(t=Rt.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function Wt(e){return"</"===e.slice(0,2)}var qt=/[^a-zA-Z0-9\\_:.-]/gim;function Ut(e,t){for(;t<e.length;t++){var o=e[t];if(" "!==o)return"="===o?t:-1}}function Kt(e,t){for(;t<e.length;t++){var o=e[t];if(" "!==o)return"'"===o||'"'===o?t:-1}}function Gt(e,t){for(;t>0;t--){var o=e[t];if(" "!==o)return"="===o?t:-1}}function Xt(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}zt.parseTag=function(e,t,o){var l="",n=0,a=!1,i=!1,r=0,s=e.length,c="",d="";e:for(r=0;r<s;r++){var u=e.charAt(r);if(!1===a){if("<"===u){a=r;continue}}else if(!1===i){if("<"===u){l+=o(e.slice(n,r)),a=r,n=r;continue}if(">"===u||r===s-1){l+=o(e.slice(n,a)),c=_t(d=e.slice(a,r+1)),l+=t(a,l.length,c,d,Wt(d)),n=r+1,a=!1;continue}if('"'===u||"'"===u)for(var m=1,p=e.charAt(r-m);""===p.trim()||"="===p;){if("="===p){i=u;continue e}p=e.charAt(r-++m)}}else if(u===i){i=!1;continue}}return n<s&&(l+=o(e.substr(n))),l},zt.parseAttr=function(e,t){var o=0,l=0,n=[],a=!1,i=e.length;function r(e,o){if(!((e=(e=Rt.trim(e)).replace(qt,"").toLowerCase()).length<1)){var l=t(e,o||"");l&&n.push(l)}}for(var s=0;s<i;s++){var c,d=e.charAt(s);if(!1!==a||"="!==d)if(!1===a||s!==l)if(/\s|\n|\t/.test(d)){if(e=e.replace(/\s|\n|\t/g," "),!1===a){if(-1===(c=Ut(e,s))){r(Rt.trim(e.slice(o,s))),a=!1,o=s+1;continue}s=c-1;continue}if(-1===(c=Gt(e,s-1))){r(a,Xt(Rt.trim(e.slice(o,s)))),a=!1,o=s+1;continue}}else;else{if(-1===(c=e.indexOf(d,s+1)))break;r(a,Rt.trim(e.slice(l+1,c))),a=!1,o=(s=c)+1}else a=e.slice(o,s),o=s+1,l='"'===e.charAt(o)||"'"===e.charAt(o)?o:Kt(e,s+1)}return o<e.length&&(!1===a?r(e.slice(o)):r(a,Xt(Rt.trim(e.slice(o))))),Rt.trim(n.join(" "))};var Zt=vt.FilterCSS,Jt=at,Yt=zt,Qt=Yt.parseTag,eo=Yt.parseAttr,to=ft;function oo(e){return null==e}function lo(e){(e=function(e){var t={};for(var o in e)t[o]=e[o];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Jt.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var o in e)Array.isArray(e[o])?t[o.toLowerCase()]=e[o].map((function(e){return e.toLowerCase()})):t[o.toLowerCase()]=e[o];return t}(e.whiteList||e.allowList):e.whiteList=Jt.whiteList,this.attributeWrapSign=!0===e.singleQuotedAttributeValue?"'":Jt.attributeWrapSign,e.onTag=e.onTag||Jt.onTag,e.onTagAttr=e.onTagAttr||Jt.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Jt.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Jt.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Jt.safeAttrValue,e.escapeHtml=e.escapeHtml||Jt.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Zt(e.css))}lo.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this,o=t.options,l=o.whiteList,n=o.onTag,a=o.onIgnoreTag,i=o.onTagAttr,r=o.onIgnoreTagAttr,s=o.safeAttrValue,c=o.escapeHtml,d=t.attributeWrapSign,u=t.cssFilter;o.stripBlankChar&&(e=Jt.stripBlankChar(e)),o.allowCommentTag||(e=Jt.stripCommentTag(e));var m=!1;o.stripIgnoreTagBody&&(m=Jt.StripTagBody(o.stripIgnoreTagBody,a),a=m.onIgnoreTag);var p=Qt(e,(function(e,t,o,m,p){var g={sourcePosition:e,position:t,isClosing:p,isWhite:Object.prototype.hasOwnProperty.call(l,o)},h=n(o,m,g);if(!oo(h))return h;if(g.isWhite){if(g.isClosing)return"</"+o+">";var v=function(e){var t=to.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var o="/"===(e=to.trim(e.slice(t+1,-1)))[e.length-1];return o&&(e=to.trim(e.slice(0,-1))),{html:e,closing:o}}(m),f=l[o],b=eo(v.html,(function(e,t){var l=-1!==to.indexOf(f,e),n=i(o,e,t,l);return oo(n)?l?(t=s(o,e,t,u))?e+"="+d+t+d:e:oo(n=r(o,e,t,l))?void 0:n:n}));return m="<"+o,b&&(m+=" "+b),v.closing&&(m+=" /"),m+=">"}return oo(h=a(o,m,g))?c(m):h}),c);return m&&(p=m.remove(p)),p};var no=lo;!function(e,t){var o=at,l=zt,n=no;function a(e,t){return new n(t).process(e)}(t=e.exports=a).filterXSS=a,t.FilterXSS=n,function(){for(var e in o)t[e]=o[e];for(var n in l)t[n]=l[n]}(),"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}(nt,nt.exports);var ao=nt.exports;const io=qe({__proto__:null,default:lt(ao)},[ao]),ro={img:["class"],input:["class","disabled","type","checked"],iframe:["class","width","height","src","title","border","frameborder","framespacing","allow","allowfullscreen"]},so=(e,t)=>{const{extendedWhiteList:o={},xss:l={}}=t;let n;if("function"==typeof l)n=new ao.FilterXSS(l(io));else{const e=ao.getDefaultWhiteList();[...Object.keys(o),...Object.keys(ro)].forEach((t=>{const l=e[t]||[],n=ro[t]||[],a=o[t]||[];e[t]=[...new Set([...l,...n,...a])]})),n=new ao.FilterXSS({whiteList:e,...l})}e.core.ruler.after("linkify","xss",(e=>{for(let t=0;t<e.tokens.length;t++){const o=e.tokens[t];switch(o.type){case"html_block":o.content=n.process(o.content);break;case"inline":(o.children||[]).forEach((e=>{"html_inline"===e.type&&(e.content=n.process(e.content))}));break}}}))},co=(e,t)=>{const{editorConfig:n,markdownItConfig:a,markdownItPlugins:i}=se,r=c("editorId"),s=c("language"),d=c("usedLanguageText"),u=c("showCodeRowNumber"),h=c("theme"),v=c("customIcon"),k=m([]),w=Ue(e),$=(e=>{const t=f(se.editorExtensions.katex.instance);return g((()=>{if(e.noKatex||t.value)return;const{editorExtensions:o}=se;Pe("script",{src:o.katex.js,id:`${te}-katex`,onload(){t.value=window.katex}},"katex"),Pe("link",{rel:"stylesheet",href:o.katex.css,id:`${te}-katexCss`})})),t})(e),{reRenderRef:C,replaceMermaid:T}=(e=>{const t=c("theme"),{editorExtensions:o,editorExtensionsAttrs:n,mermaidConfig:a}=se,i=f(o.mermaid.instance),r=f(-1),s=new ee({max:1e3,ttl:6e5}),d=()=>{const o=i.value;!e.noMermaid&&o&&(o.initialize(a({startOnLoad:!1,theme:"dark"===t.value?"dark":"default"})),r.value=r.value+1)};return p((()=>t.value),(()=>{s.clear(),d()})),g((()=>{var t,l;if(e.noMermaid||i.value)return;const a=o.mermaid.js;/\.mjs/.test(a)?(Pe("link",{...null==(t=n.mermaid)?void 0:t.js,rel:"modulepreload",href:a,id:`${te}-mermaid-m`}),S((()=>import(a)),[]).then((e=>{i.value=e.default,d()}))):Pe("script",{...null==(l=n.mermaid)?void 0:l.js,src:a,id:`${te}-mermaid`,onload(){i.value=window.mermaid,d()}},"mermaid")})),{mermaidRef:i,reRenderRef:r,replaceMermaid:()=>{y((()=>{if(!e.noMermaid&&i.value){const t=document.querySelectorAll(`div.${te}-mermaid`),o=document.createElement("div");o.style.width=document.body.offsetWidth+"px",o.style.height=document.body.offsetHeight+"px",o.style.position="fixed",o.style.zIndex="-10000",o.style.top="-10000";let n=t.length;n>0&&document.body.appendChild(o),t.forEach((async t=>{let a=s.get(t.innerText);if(!a){const n=l(),r=i.value.renderAsync||i.value.render;let d="";try{d=await r(n,t.innerText,o)}catch(c){}a=await e.sanitizeMermaid("string"==typeof d?d:d.svg),s.set(t.innerText,a)}const r=document.createElement("p");r.className=`${te}-mermaid`,r.setAttribute("data-processed",""),r.innerHTML=a,void 0!==t.dataset.line&&(r.dataset.line=t.dataset.line),t.replaceWith(r),0==--n&&o.remove()}))}}))}}})(e),I=J({html:!0,breaks:!0,linkify:!0});a(I,{editorId:r});const A=[{type:"image",plugin:Y,options:{figcaption:!0,classes:"md-zoom"}},{type:"admonition",plugin:Qe,options:{}},{type:"taskList",plugin:Q,options:{}},{type:"heading",plugin:et,options:{mdHeadingId:e.mdHeadingId,headsRef:k}},{type:"code",plugin:ot,options:{editorId:r,usedLanguageTextRef:d,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold,customIconRef:v}},{type:"xss",plugin:so,options:{}}];e.noKatex||A.push({type:"katex",plugin:Ye,options:{katexRef:$}}),e.noMermaid||A.push({type:"mermaid",plugin:Ke,options:{themeRef:h}}),i(A,{editorId:r}).forEach((e=>{I.use(e.plugin,e.options)}));const E=I.options.highlight;I.set({highlight:(t,o,l)=>{if(E){const e=E(t,o,l);if(e)return e}let n;if(!e.noHighlight&&w.value){n=w.value.getLanguage(o)?w.value.highlight(t,{language:o,ignoreIllegals:!0}).value:w.value.highlightAuto(t).value}else n=I.utils.escapeHtml(t);return`<pre><code class="language-${o}" language=${o}>${u?(e=>{if(!e)return e;const t=e.split("\n"),o=['<span rn-wrapper aria-hidden="true">'];return t.forEach((()=>{o.push("<span></span>")})),o.push("</span>"),`<span class="${te}-code-block">${e}</span>${o.join("")}`})(n.replace(/^\n+|\n+$/g,"")):`<span class="${te}-code-block">${n.replace(/^\n+|\n+$/g,"")}</span>`}</code></pre>`}}),(e=>{e.core.ruler.push("init-line-number",(e=>(e.tokens.forEach((e=>{e.map&&(e.attrs||(e.attrs=[]),e.attrs.push(["data-line",e.map[0].toString()]))})),!0)))})(I);const F=m(`_article-key_${l()}`),L=m(e.sanitize(I.render(e.modelValue))),j=()=>{he.emit(r,Te,L.value),e.onHtmlChanged(L.value),e.onGetCatalog(k.value),he.emit(r,je,k.value),T()};g(j);const M=()=>{k.value=[],L.value=e.sanitize(I.render(e.modelValue)),j()},H=b((()=>(e.noKatex||$.value)&&(e.noHighlight||w.value)));return p([x(e,"modelValue"),H,C,s],o(M,t?0:n.renderDelay)),p((()=>e.setting.preview),(()=>{e.setting.preview&&y((()=>{he.emit(r,je,k.value)}))})),g((()=>{he.on(r,{name:Me,callback(){he.emit(r,je,k.value)}}),he.on(r,{name:He,callback:()=>{F.value=`_article-key_${l()}`,M()}})})),{html:L,key:F}},uo={modelValue:{type:String,default:""},setting:{type:Object,default:()=>({preview:!0})},onHtmlChanged:{type:Function,default:()=>{}},onGetCatalog:{type:Function,default:()=>{}},mdHeadingId:{type:Function,default:()=>""},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:e=>e},noKatex:{type:Boolean,default:!1},formatCopiedText:{type:Function,default:e=>e},noHighlight:{type:Boolean,default:!1},previewOnly:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean},sanitizeMermaid:{type:Function},codeFoldable:{type:Boolean},autoFoldThreshold:{type:Number}},mo={...uo,updateModelValue:{type:Function,default:()=>{}},onChange:{type:Function,default:()=>{}},placeholder:{type:String,default:""},scrollAuto:{type:Boolean},autofocus:{type:Boolean},disabled:{type:Boolean},readonly:{type:Boolean},maxlength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function,default:()=>{}},onFocus:{type:Function,default:()=>{}},noPrettier:{type:Boolean},completions:{type:Array},catalogVisible:{type:Boolean},theme:{type:String,default:"light"},onInput:{type:Function},onDrop:{type:Function,default:()=>{}},inputBoxWitdh:{type:String},onInputBoxWitdhChange:{type:Function},transformImgUrl:{type:Function,default:e=>e}},po=s({name:"ContentPreview",props:uo,setup(e){const t=c("editorId"),l=c("previewTheme"),n=c("showCodeRowNumber"),{html:a,key:i}=co(e,e.previewOnly);return((e,t,o)=>{const l=c("editorId"),n=c("usedLanguageText"),a=()=>{document.querySelectorAll(`#${l} .${te}-preview .${te}-code`).forEach((t=>{let o=-1;const l=t.querySelector(`.${te}-copy-button`);l&&(l.onclick=a=>{a.preventDefault(),clearTimeout(o);const i=(t.querySelector("input:checked + pre code")||t.querySelector("pre code")).textContent,r=Z(e.formatCopiedText(i)),{text:s,successTips:c,failTips:d}=n.value.copyCode,u=r?c:d;l.dataset.isIcon?l.dataset.tips=u:l.innerHTML=u,o=window.setTimeout((()=>{l.dataset.isIcon?l.dataset.tips=s:l.innerHTML=s}),1500)})}))},i=e=>{e&&y(a)};p([t,o],(()=>{y(a)})),p((()=>e.setting.preview),i),p((()=>e.setting.htmlPreview),i),p((()=>n.value),a),g(a)})(e,a,i),((e,t)=>{const l=c("editorId"),{noImgZoomIn:n}=e,a=o((()=>{const e=document.querySelectorAll(`#${l}-preview img:not(.not-zoom)`);0!==e.length&&X(e,{background:"#00000073"})}));g((()=>{a()})),p([t,x(e.setting,"preview")],(()=>{!n&&e.setting.preview&&a()}))})(e,a),()=>d(C,null,[e.setting.preview&&d("div",{id:`${t}-preview-wrapper`,class:`${te}-preview-wrapper`,key:"content-preview-wrapper"},[d("div",{key:i.value,id:`${t}-preview`,class:[`${te}-preview`,`${null==l?void 0:l.value}-theme`,n&&`${te}-scrn`],innerHTML:a.value},null)]),!e.previewOnly&&e.setting.htmlPreview&&d("div",{id:`${t}-html-wrapper`,class:`${te}-preview-wrapper`,key:"html-preview-wrapper"},[d("div",{class:`${te}-html`},[a.value])])])}}),go=o=>{const{editorId:l}=o,n=se.editorExtensions.highlight,a=se.editorExtensionsAttrs.highlight;$("editorId",l),$("theme",b((()=>o.theme))),$("language",b((()=>o.language))),$("highlight",b((()=>{const{js:e}=n,t={...re,...n.css},{js:l,css:i={}}=a||{},r=o.codeStyleReverse&&o.codeStyleReverseList.includes(o.previewTheme)?"dark":o.theme;return{js:{src:e,...l},css:{href:t[o.codeTheme]?t[o.codeTheme][r]:re.atom[r],...t[o.codeTheme]&&i[o.codeTheme]?i[o.codeTheme][r]:i.atom?i.atom[r]:{}}}}))),$("showCodeRowNumber",o.showCodeRowNumber);const i=b((()=>{const l={...ie,...se.editorConfig.languageUserDefined};return e(t(ie["en-US"]),l[o.language]||{})}));$("usedLanguageText",i),$("previewTheme",b((()=>o.previewTheme))),$("customIcon",b((()=>o.customIcon)))},ho=e=>{g((()=>{const{editorExtensions:t,editorExtensionsAttrs:o,iconfontType:l}=se;e.noIconfont||("svg"===l?Pe("script",{...o.iconfont,src:t.iconfont,id:`${te}-icon`}):Pe("link",{...o.iconfontClass,rel:"stylesheet",href:t.iconfontClass,id:`${te}-icon-class`}))}))},vo={modelValue:{type:String,default:""},theme:{type:String,default:"light"},class:{type:String,default:""},language:{type:String,default:"zh-CN"},onHtmlChanged:{type:Function},onGetCatalog:{type:Function},editorId:{type:String,default:()=>De("md-editor-v3_")},showCodeRowNumber:{type:Boolean,default:!0},previewTheme:{type:String,default:"default"},style:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:e=>e},sanitize:{type:Function,default:e=>e},noMermaid:{type:Boolean,default:!1},noKatex:{type:Boolean,default:!1},codeTheme:{type:String,default:"atom"},noIconfont:{type:Boolean},formatCopiedText:{type:Function,default:e=>e},codeStyleReverse:{type:Boolean,default:!0},codeStyleReverseList:{type:Array,default:["default","mk-cute"]},noHighlight:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean,default:!1},customIcon:{type:Object,default:{}},sanitizeMermaid:{type:Function,default:e=>Promise.resolve(e)},codeFoldable:{type:Boolean,default:!0},autoFoldThreshold:{type:Number,default:30}},fo={...vo,onChange:{type:Function},onSave:{type:Function},onUploadImg:{type:Function},pageFullscreen:{type:Boolean,default:!1},preview:{type:Boolean,default:!0},htmlPreview:{type:Boolean,default:!1},toolbars:{type:Array,default:ne},toolbarsExclude:{type:Array,default:[]},noPrettier:{type:Boolean,default:!1},tabWidth:{type:Number,default:2},tableShape:{type:Array},placeholder:{type:String,default:""},defToolbars:{type:[String,Object]},onError:{type:Function},footers:{type:Array,default:ae},scrollAuto:{type:Boolean,default:!0},defFooters:{type:[String,Object]},noUploadImg:{type:Boolean},autoFocus:{type:Boolean},disabled:{type:Boolean},readOnly:{type:Boolean},maxLength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function},onFocus:{type:Function},completions:{type:Array},showToolbarName:{type:Boolean,default:!1},onInput:{type:Function},onDrop:{type:Function},inputBoxWitdh:{type:String,default:"50%"},onInputBoxWitdhChange:{type:Function},transformImgUrl:{type:Function,default:e=>e}},bo=["onHtmlChanged","onGetCatalog"],yo=[...bo,"onChange","onSave","onUploadImg","onError","update:modelValue","onBlur","onFocus","onInput","onDrop","onInputBoxWitdhChange"],ko=s({name:"MdPreview",props:vo,emits:bo,setup(e,t){const{editorId:o,noKatex:l,noMermaid:n,noHighlight:a}=e;return go(e),ho(e),((e,t)=>{const{editorId:o}=e,l={rerender(){he.emit(o,He)}};t.expose(l)})(e,t),h((()=>{he.clear(o)})),()=>d("div",{id:o,class:[te,e.class,"dark"===e.theme&&`${te}-dark`,`${te}-previewOnly`],style:e.style},[d(po,{modelValue:e.modelValue,onHtmlChanged:o=>{e.onHtmlChanged?e.onHtmlChanged(o):t.emit("onHtmlChanged",o)},onGetCatalog:o=>{e.onGetCatalog?e.onGetCatalog(o):t.emit("onGetCatalog",o)},mdHeadingId:e.mdHeadingId,noMermaid:n,sanitize:e.sanitize,noKatex:l,formatCopiedText:e.formatCopiedText,noHighlight:a,noImgZoomIn:e.noImgZoomIn,previewOnly:!0,sanitizeMermaid:e.sanitizeMermaid,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold},null)])}});ko.install=e=>(e.component(ko.name,ko),e);const wo=s({props:{tocItem:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:()=>{}},scrollElement:{type:[String,Object],default:""},onClick:{type:Function,default:()=>{}},scrollElementOffsetTop:{type:Number,default:0}},setup:e=>()=>{const{tocItem:t,mdHeadingId:o,scrollElement:l,onClick:n,scrollElementOffsetTop:a}=e;return d("div",{class:[`${te}-catalog-link`,t.active&&`${te}-catalog-active`],onClick:e=>{n(e,t),e.stopPropagation();const i=o(t.text,t.level,t.index),r=document.getElementById(i),s=l instanceof Element?l:document.querySelector(l);if(r&&s){let e=r.offsetParent,t=r.offsetTop;if(s.contains(e))for(;e&&s!=e;)t+=null==e?void 0:e.offsetTop,e=null==e?void 0:e.offsetParent;null==s||s.scrollTo({top:t-a,behavior:"smooth"})}}},[d("span",{title:t.text},[t.text]),d("div",{class:`${te}-catalog-wrapper`},[t.children&&t.children.map((e=>d(wo,{mdHeadingId:o,key:`${t.text}-link-${e.level}-${e.text}`,tocItem:e,scrollElement:l,onClick:n,scrollElementOffsetTop:a},null)))])])}}),$o=wo,Co=s({name:"MdCatalog",props:{editorId:{type:String},class:{type:String,default:""},mdHeadingId:{type:Function,default:e=>e},scrollElement:{type:[String,Object]},theme:{type:String,default:"light"},offsetTop:{type:Number,default:20},scrollElementOffsetTop:{type:Number,default:0},onClick:{type:Function},onActive:{type:Function}},emits:["onClick","onActive"],setup(e,t){const o=e.editorId,l=u({list:[],show:!1,scrollElement:e.scrollElement||`#${o}-preview-wrapper`}),n=f(),a=b((()=>{const e=[];return l.list.forEach(((t,o)=>{const{text:l,level:a}=t,i={level:a,text:l,index:o+1,active:n.value===t};if(0===e.length)e.push(i);else{let t=e[e.length-1];if(i.level>t.level)for(let e=t.level+1;e<=6;e++){const{children:e}=t;if(!e){t.children=[i];break}if(t=e[e.length-1],i.level<=t.level){e.push(i);break}}else e.push(i)}})),e})),i=()=>l.scrollElement instanceof HTMLElement?l.scrollElement:document.querySelector(l.scrollElement),r=t=>{if(0===t.length)return l.list=[],!1;const{activeHead:o}=t.reduce(((t,o,l)=>{const n=document.getElementById(e.mdHeadingId(o.text,o.level,l+1));if(n instanceof HTMLElement){const l=((e,t)=>{if(!e||!t)return 0;const o=null==e?void 0:e.getBoundingClientRect();if(t===document.documentElement)return o.top-t.clientTop;const l=null==t?void 0:t.getBoundingClientRect();return o.top-l.top})(n,i());if(l<e.offsetTop&&l>t.minTop)return{activeHead:o,minTop:l}}return t}),{activeHead:t[0],minTop:Number.MIN_SAFE_INTEGER});n.value=o,l.list=t},s=()=>{r(l.list)};return p((()=>n.value),(o=>{const l=o?{...o}:void 0;e.onActive?e.onActive(l):t.emit("onActive",l)})),g((()=>{let e=window;const t=()=>{const t=i();e=t===document.documentElement?window:t};he.on(o,{name:je,callback:o=>{null==e||e.removeEventListener("scroll",s),r(o),t(),null==e||e.addEventListener("scroll",s)}}),he.emit(o,Me),t(),null==e||e.addEventListener("scroll",s)})),h((()=>{var e;const t=i();null==(e=t===document.documentElement?window:t)||e.removeEventListener("scroll",s)})),()=>d("div",{class:`${te}-catalog${"dark"===e.theme?"-dark":""} ${e.class}`},[a.value.map((o=>d($o,{mdHeadingId:e.mdHeadingId,tocItem:o,key:`link-${o.level}-${o.text}`,scrollElement:l.scrollElement,onClick:(o,l)=>{e.onClick?e.onClick(o,l):t.emit("onClick",o,l)},scrollElementOffsetTop:e.scrollElementOffsetTop},null)))])}});Co.install=e=>(e.component(Co.name,Co),e);const xo=s({name:"NormalToolbar",props:{title:{type:String,default:""},trigger:{type:[String,Object]},onClick:{type:Function},insert:{type:Function},language:{type:String},theme:{type:String}},emits:["onClick"],setup:(e,t)=>()=>{const o=de({props:e,ctx:t},"trigger");return d("div",{class:`${te}-toolbar-item`,title:e.title,onClick:o=>{e.onClick instanceof Function?e.onClick(o):t.emit("onClick",o)}},[o])}});xo.install=e=>(e.component(xo.name,xo),e);const To=s({name:"ModalToolbar",props:{title:{type:String,default:""},modalTitle:{type:String,default:""},visible:{type:Boolean},width:{type:String,default:"auto"},height:{type:String,default:"auto"},trigger:{type:[String,Object]},onClick:{type:Function},onClose:{type:Function},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function},class:{type:String},style:{type:[Object,String]},showMask:{type:Boolean,default:!0},insert:{type:Function},language:{type:String},theme:{type:String},previewTheme:{type:String}},emits:["onClick","onClose","onAdjust"],setup:(e,t)=>()=>{const o=de({props:e,ctx:t},"trigger"),l=de({props:e,ctx:t},"default");return d(C,null,[d("div",{class:`${te}-toolbar-item`,title:e.title,onClick:()=>{e.onClick instanceof Function?e.onClick():t.emit("onClick")}},[o]),d(We,{style:e.style,class:e.class,width:e.width,height:e.height,title:e.modalTitle,visible:e.visible,showMask:e.showMask,onClose:()=>{e.onClose instanceof Function?e.onClose():t.emit("onClose")},showAdjust:e.showAdjust,isFullscreen:e.isFullscreen,onAdjust:o=>{e.onAdjust instanceof Function?e.onAdjust(o):t.emit("onAdjust",o)}},(n=l,"function"==typeof n||"[object Object]"===Object.prototype.toString.call(n)&&!T(n)?l:{default:()=>[l]}))]);var n}});To.install=e=>(e.component(To.name,To),e);var So=Object.defineProperty,Io=(e,t,o)=>(((e,t,o)=>{t in e?So(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o})(e,"symbol"!=typeof t?t+"":t,o),o);const Ao=s({setup:()=>()=>d("div",{class:`${te}-divider`},null)}),Eo={noPrettier:{type:Boolean},toolbars:{type:Array,default:()=>[]},toolbarsExclude:{type:Array,default:()=>[]},setting:{type:Object,default:()=>({})},screenfull:{type:Object,default:null},screenfullJs:{type:String,default:""},updateSetting:{type:Function,default:()=>{}},tableShape:{type:Array,default:()=>[6,4]},defToolbars:{type:Object},noUploadImg:{type:Boolean},showToolbarName:{type:Boolean}},Fo=s({name:"TableShape",props:{tableShape:{type:Array,default:()=>[6,4]},onSelected:{type:Function,default:()=>{}}},setup(e){const t=u({x:-1,y:-1}),o=()=>{const t=[...e.tableShape];return(!t[2]||t[2]<t[0])&&(t[2]=t[0]),(!t[3]||t[3]<t[3])&&(t[3]=t[1]),t},l=m(o());return p((()=>e.tableShape),(()=>{l.value=o()})),()=>d("div",{class:`${te}-table-shape`,onMouseleave:()=>{l.value=o(),t.x=-1,t.y=-1}},[new Array(l.value[1]).fill("").map(((o,n)=>d("div",{class:`${te}-table-shape-row`,key:`table-shape-row-${n}`},[new Array(l.value[0]).fill("").map(((o,a)=>d("div",{class:`${te}-table-shape-col`,key:`table-shape-col-${a}`,onMouseenter:()=>{t.x=n,t.y=a,a+1===l.value[0]&&a+1<l.value[2]?l.value[0]++:a+2<l.value[0]&&l.value[0]>e.tableShape[0]&&l.value[0]--,n+1===l.value[1]&&n+1<l.value[3]?l.value[1]++:n+2<l.value[1]&&l.value[1]>e.tableShape[1]&&l.value[1]--},onClick:()=>{e.onSelected(t)}},[d("div",{class:[`${te}-table-shape-col-default`,n<=t.x&&a<=t.y&&`${te}-table-shape-col-include`]},null)])))])))])}}),Lo=s({props:{type:{type:String,default:"link"},visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},setup(e){const t=c("usedLanguageText"),o=c("editorId"),l=b((()=>{var o,l;switch(e.type){case"link":return null==(o=t.value.linkModalTips)?void 0:o.linkTitle;case"image":return null==(l=t.value.linkModalTips)?void 0:l.imageTitle;default:return""}})),n=u({desc:"",url:""});return p((()=>e.visible),(e=>{e||setTimeout((()=>{n.desc="",n.url=""}),200)})),()=>d(We,{title:l.value,visible:e.visible,onClose:e.onCancel},{default:()=>{var l,a,i,r,s;return[d("div",{class:`${te}-form-item`},[d("label",{class:`${te}-label`,for:`link-desc-${o}`},[null==(l=t.value.linkModalTips)?void 0:l.descLabel]),d("input",{placeholder:null==(a=t.value.linkModalTips)?void 0:a.descLabelPlaceHolder,class:`${te}-input`,id:`link-desc-${o}`,type:"text",value:n.desc,onChange:e=>{n.desc=e.target.value},autocomplete:"off"},null)]),d("div",{class:`${te}-form-item`},[d("label",{class:`${te}-label`,for:`link-url-${o}`},[null==(i=t.value.linkModalTips)?void 0:i.urlLabel]),d("input",{placeholder:null==(r=t.value.linkModalTips)?void 0:r.urlLabelPlaceHolder,class:`${te}-input`,id:`link-url-${o}`,type:"text",value:n.url,onChange:e=>{n.url=e.target.value},autocomplete:"off"},null)]),d("div",{class:`${te}-form-item`},[d("button",{class:[`${te}-btn`,`${te}-btn-row`],type:"button",onClick:()=>{e.onOk(n),n.desc="",n.url=""}},[null==(s=t.value.linkModalTips)?void 0:s.buttonOK])])]}})}}),jo=s({props:{visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},setup(e){const t=c("usedLanguageText"),o=c("editorId");let l=se.editorExtensions.cropper.instance;const n=m(),a=m(),i=m(),r=u({cropperInited:!1,imgSelected:!1,imgSrc:"",isFullscreen:!1});let s=null;p((()=>e.visible),(()=>{e.visible&&!r.cropperInited&&(l=l||window.Cropper,n.value.onchange=()=>{if(!l)return void he.emit(o,Se,{name:"Cropper",message:"Cropper is undefined"});const e=n.value.files||[];if(r.imgSelected=!0,(null==e?void 0:e.length)>0){const t=new FileReader;t.onload=e=>{r.imgSrc=e.target.result,y((()=>{s=new l(a.value,{viewMode:2,preview:`.${te}-clip-preview-target`})}))},t.readAsDataURL(e[0])}})})),p((()=>[r.imgSelected]),(()=>{i.value.style=""})),p((()=>r.isFullscreen),(()=>{y((()=>{null==s||s.destroy(),i.value.style="",a.value&&(s=new l(a.value,{viewMode:2,preview:`.${te}-clip-preview-target`}))}))}));const g=()=>{s.clear(),s.destroy(),s=null,n.value.value="",r.imgSelected=!1};return()=>{var l;return d(We,{class:`${te}-modal-clip`,title:null==(l=t.value.clipModalTips)?void 0:l.title,visible:e.visible,onClose:e.onCancel,showAdjust:!0,isFullscreen:r.isFullscreen,onAdjust:e=>{r.isFullscreen=e},width:"668px",height:"421px"},{default:()=>{var l,c;return[d("div",{class:`${te}-form-item ${te}-clip`},[d("div",{class:`${te}-clip-main`},[r.imgSelected?d("div",{class:`${te}-clip-cropper`},[d("img",{src:r.imgSrc,ref:a,style:{display:"none"},alt:""},null),d("div",{class:`${te}-clip-delete`,onClick:g},[d(_e,{name:"delete"},null)])]):d("div",{class:`${te}-clip-upload`,onClick:()=>{n.value.click()}},[d(_e,{name:"upload"},null)])]),d("div",{class:`${te}-clip-preview`},[d("div",{class:`${te}-clip-preview-target`,ref:i},null)])]),d("div",{class:`${te}-form-item`},[d("button",{class:`${te}-btn`,type:"button",onClick:()=>{if(s){const t=s.getCroppedCanvas();he.emit(o,Ae,[Ne(t.toDataURL("image/png"))],e.onOk),g()}}},[(null==(l=t.value.clipModalTips)?void 0:l.buttonUpload)||(null==(c=t.value.linkModalTips)?void 0:c.buttonOK)])]),d("input",{ref:n,accept:"image/*",type:"file",multiple:!1,style:{display:"none"}},null)]}})}}}),Mo=s({props:{type:{type:String,default:"link"},linkVisible:{type:Boolean,default:!1},clipVisible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},setup:e=>()=>d(C,null,[d(Lo,{type:e.type,visible:e.linkVisible,onOk:e.onOk,onCancel:e.onCancel},null),d(jo,{visible:e.clipVisible,onOk:e.onOk,onCancel:e.onCancel},null)])}),Ho=s({name:"MDEditorToolbar",props:Eo,setup(e){const t=c("editorId"),o=c("usedLanguageText"),l=c("theme"),i=c("previewTheme"),r=c("language"),{fullscreenHandler:s}=(e=>{const t=c("editorId"),{editorExtensions:o,editorExtensionsAttrs:l}=se;let n=o.screenfull.instance;const a=m(!1),i=e=>{n?n.isEnabled?(a.value=!0,(void 0===e?!n.isFullscreen:e)?n.request():n.exit()):console.error("browser does not support screenfull!"):he.emit(t,Se,{name:"fullscreen",message:"fullscreen is undefined"})},r=()=>{n&&n.isEnabled&&n.on("change",(()=>{(a.value||e.setting.fullscreen)&&(a.value=!1,e.updateSetting("fullscreen"))}))},s=()=>{n=window.screenfull,r()};return g((()=>{var e;r(),n||Pe("script",{...null==(e=l.screenfull)?void 0:e.js,src:o.screenfull.js,id:`${te}-screenfull`,onload:s},"screenfull")})),g((()=>{he.on(t,{name:be,callback:i})})),{fullscreenHandler:i}})(e),h=`${t}-toolbar-wrapper`,f=m(),k=u({title:!1,catalog:!1,image:!1,table:!1,mermaid:!1,katex:!1}),w=(e,o)=>{he.emit(t,Ie,e,o)},$=u({type:"link",linkVisible:!1,clipVisible:!1}),x=m();g((()=>{he.on(t,{name:Ee,callback(e){$.type=e,$.linkVisible=!0}})}));const T=b((()=>{const t=e.toolbars.filter((t=>!e.toolbarsExclude.includes(t))),o=t.indexOf("=");return[-1===o?t:t.slice(0,o+1),-1===o?[]:t.slice(o,Number.MAX_SAFE_INTEGER)]})),S=m(),I=()=>{he.emit(t,Ae,Array.from(S.value.files||[])),S.value.value=""};g((()=>{S.value.addEventListener("change",I)}));const A=n=>{var c,u,m,p,g,f,b,y,C,x,T,I,A,E,F,L,j,M,H,O,B,P,V,N,D,z,R,_,W,q,U,K,G,X,Z,J,Y,Q,ee,oe,le,ae,ie,re,se,ce,de,me,pe,ge,be,ye,ke,we,$e,Ce,xe,Te,Se,Ae,Ee,je,Me,He,Oe,Be,Pe,Ve,Ne;if(!ne.includes(n)){if(e.defToolbars instanceof Array){const o=e.defToolbars[n];if(o){return v(o,{theme:l.value,previewTheme:i.value,language:r.value,insert(e){he.emit(t,Ie,"universal",{generate:e})}})}return""}if(e.defToolbars&&e.defToolbars.children instanceof Array){const o=e.defToolbars.children[n];if(o){return v(o,{theme:l.value,previewTheme:i.value,language:r.value,insert(e){he.emit(t,Ie,"universal",{generate:e})}})}return""}return""}switch(n){case"-":return d(Ao,null,null);case"bold":return d("div",{class:`${te}-toolbar-item`,title:null==(c=o.value.toolbarTips)?void 0:c.bold,onClick:()=>{w("bold")}},[d(_e,{name:"bold"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(u=o.value.toolbarTips)?void 0:u.bold])]);case"underline":return d("div",{class:`${te}-toolbar-item`,title:null==(m=o.value.toolbarTips)?void 0:m.underline,onClick:()=>{w("underline")}},[d(_e,{name:"underline"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(p=o.value.toolbarTips)?void 0:p.underline])]);case"italic":return d("div",{class:`${te}-toolbar-item`,title:null==(g=o.value.toolbarTips)?void 0:g.italic,onClick:()=>{w("italic")}},[d(_e,{name:"italic"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(f=o.value.toolbarTips)?void 0:f.italic])]);case"strikeThrough":return d("div",{class:`${te}-toolbar-item`,title:null==(b=o.value.toolbarTips)?void 0:b.strikeThrough,onClick:()=>{w("strikeThrough")}},[d(_e,{name:"strike-through"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(y=o.value.toolbarTips)?void 0:y.strikeThrough])]);case"title":return d(ue,{relative:`#${h}`,visible:k.title,onChange:e=>{k.title=e},overlay:d("ul",{class:`${te}-menu`,onClick:()=>{k.title=!1}},[d("li",{class:`${te}-menu-item ${te}-menu-item-title`,onClick:()=>{w("h1")}},[null==(C=o.value.titleItem)?void 0:C.h1]),d("li",{class:`${te}-menu-item ${te}-menu-item-title`,onClick:()=>{w("h2")}},[null==(x=o.value.titleItem)?void 0:x.h2]),d("li",{class:`${te}-menu-item ${te}-menu-item-title`,onClick:()=>{w("h3")}},[null==(T=o.value.titleItem)?void 0:T.h3]),d("li",{class:`${te}-menu-item ${te}-menu-item-title`,onClick:()=>{w("h4")}},[null==(I=o.value.titleItem)?void 0:I.h4]),d("li",{class:`${te}-menu-item ${te}-menu-item-title`,onClick:()=>{w("h5")}},[null==(A=o.value.titleItem)?void 0:A.h5]),d("li",{class:`${te}-menu-item ${te}-menu-item-title`,onClick:()=>{w("h6")}},[null==(E=o.value.titleItem)?void 0:E.h6])])},{default:()=>{var t,l;return[d("div",{class:`${te}-toolbar-item`,title:null==(t=o.value.toolbarTips)?void 0:t.title},[d(_e,{name:"title"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(l=o.value.toolbarTips)?void 0:l.title])])]}});case"sub":return d("div",{class:`${te}-toolbar-item`,title:null==(F=o.value.toolbarTips)?void 0:F.sub,onClick:()=>{w("sub")}},[d(_e,{name:"sub"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(L=o.value.toolbarTips)?void 0:L.sub])]);case"sup":return d("div",{class:`${te}-toolbar-item`,title:null==(j=o.value.toolbarTips)?void 0:j.sup,onClick:()=>{w("sup")}},[d(_e,{name:"sup"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(M=o.value.toolbarTips)?void 0:M.sup])]);case"quote":return d("div",{class:`${te}-toolbar-item`,title:null==(H=o.value.toolbarTips)?void 0:H.quote,onClick:()=>{w("quote")}},[d(_e,{name:"quote"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(O=o.value.toolbarTips)?void 0:O.quote])]);case"unorderedList":return d("div",{class:`${te}-toolbar-item`,title:null==(B=o.value.toolbarTips)?void 0:B.unorderedList,onClick:()=>{w("unorderedList")}},[d(_e,{name:"unordered-list"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(P=o.value.toolbarTips)?void 0:P.unorderedList])]);case"orderedList":return d("div",{class:`${te}-toolbar-item`,title:null==(V=o.value.toolbarTips)?void 0:V.orderedList,onClick:()=>{w("orderedList")}},[d(_e,{name:"ordered-list"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(N=o.value.toolbarTips)?void 0:N.orderedList])]);case"task":return d("div",{class:`${te}-toolbar-item`,title:null==(D=o.value.toolbarTips)?void 0:D.task,onClick:()=>{w("task")}},[d(_e,{name:"task"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(z=o.value.toolbarTips)?void 0:z.task])]);case"codeRow":return d("div",{class:`${te}-toolbar-item`,title:null==(R=o.value.toolbarTips)?void 0:R.codeRow,onClick:()=>{w("codeRow")}},[d(_e,{name:"code-row"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(_=o.value.toolbarTips)?void 0:_.codeRow])]);case"code":return d("div",{class:`${te}-toolbar-item`,title:null==(W=o.value.toolbarTips)?void 0:W.code,onClick:()=>{w("code")}},[d(_e,{name:"code"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(q=o.value.toolbarTips)?void 0:q.code])]);case"link":return d("div",{class:`${te}-toolbar-item`,title:null==(U=o.value.toolbarTips)?void 0:U.link,onClick:()=>{$.type="link",$.linkVisible=!0}},[d(_e,{name:"link"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(K=o.value.toolbarTips)?void 0:K.link])]);case"image":return e.noUploadImg?d("div",{class:`${te}-toolbar-item`,title:null==(G=o.value.toolbarTips)?void 0:G.image,onClick:()=>{$.type="image",$.linkVisible=!0}},[d(_e,{name:"image"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(X=o.value.toolbarTips)?void 0:X.image])]):d(ue,{relative:`#${h}`,visible:k.image,onChange:e=>{k.image=e},overlay:d("ul",{class:`${te}-menu`,onClick:()=>{k.title=!1}},[d("li",{class:`${te}-menu-item ${te}-menu-item-image`,onClick:()=>{$.type="image",$.linkVisible=!0}},[null==(Z=o.value.imgTitleItem)?void 0:Z.link]),d("li",{class:`${te}-menu-item ${te}-menu-item-image`,onClick:()=>{S.value.click()}},[null==(J=o.value.imgTitleItem)?void 0:J.upload]),d("li",{class:`${te}-menu-item ${te}-menu-item-image`,onClick:()=>{$.clipVisible=!0}},[null==(Y=o.value.imgTitleItem)?void 0:Y.clip2upload])])},{default:()=>{var t,l;return[d("div",{class:`${te}-toolbar-item`,title:null==(t=o.value.toolbarTips)?void 0:t.image},[d(_e,{name:"image"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(l=o.value.toolbarTips)?void 0:l.image])])]}});case"table":return d(ue,{relative:`#${h}`,visible:k.table,onChange:e=>{k.table=e},key:"bar-table",overlay:d(Fo,{tableShape:e.tableShape,onSelected:e=>{w("table",{selectedShape:e})}},null)},{default:()=>{var t,l;return[d("div",{class:`${te}-toolbar-item`,title:null==(t=o.value.toolbarTips)?void 0:t.table},[d(_e,{name:"table"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(l=o.value.toolbarTips)?void 0:l.table])])]}});case"revoke":return d("div",{class:`${te}-toolbar-item`,title:null==(Q=o.value.toolbarTips)?void 0:Q.revoke,onClick:()=>{he.emit(t,Fe)}},[d(_e,{name:"revoke"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(ee=o.value.toolbarTips)?void 0:ee.revoke])]);case"next":return d("div",{class:`${te}-toolbar-item`,title:null==(oe=o.value.toolbarTips)?void 0:oe.next,onClick:()=>{he.emit(t,Le)}},[d(_e,{name:"next"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(le=o.value.toolbarTips)?void 0:le.next])]);case"save":return d("div",{class:`${te}-toolbar-item`,title:null==(ae=o.value.toolbarTips)?void 0:ae.save,onClick:()=>{he.emit(t,ve)}},[d(_e,{name:"baocun"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(ie=o.value.toolbarTips)?void 0:ie.save])]);case"prettier":return e.noPrettier?"":d("div",{class:`${te}-toolbar-item`,title:null==(re=o.value.toolbarTips)?void 0:re.prettier,onClick:()=>{w("prettier")}},[d(_e,{name:"prettier"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(se=o.value.toolbarTips)?void 0:se.prettier])]);case"pageFullscreen":return!e.setting.fullscreen&&d("div",{class:`${te}-toolbar-item`,title:null==(ce=o.value.toolbarTips)?void 0:ce.pageFullscreen,onClick:()=>{e.updateSetting("pageFullscreen")}},[d(_e,{name:e.setting.pageFullscreen?"suoxiao":"fangda"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(de=o.value.toolbarTips)?void 0:de.pageFullscreen])]);case"fullscreen":return d("div",{class:`${te}-toolbar-item`,title:null==(me=o.value.toolbarTips)?void 0:me.fullscreen,onClick:()=>{s()}},[d(_e,{name:e.setting.fullscreen?"fullscreen-exit":"fullscreen"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(pe=o.value.toolbarTips)?void 0:pe.fullscreen])]);case"preview":return d("div",{class:`${te}-toolbar-item`,title:null==(ge=o.value.toolbarTips)?void 0:ge.preview,onClick:()=>{e.updateSetting("preview")}},[d(_e,{name:"preview"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(be=o.value.toolbarTips)?void 0:be.preview])]);case"previewOnly":return d("div",{class:`${te}-toolbar-item`,title:null==(ye=o.value.toolbarTips)?void 0:ye.previewOnly,onClick:()=>{e.updateSetting("previewOnly")}},[d(_e,{name:"preview-only"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(ke=o.value.toolbarTips)?void 0:ke.previewOnly])]);case"htmlPreview":return d("div",{class:`${te}-toolbar-item`,title:null==(we=o.value.toolbarTips)?void 0:we.htmlPreview,onClick:()=>{e.updateSetting("htmlPreview")}},[d(_e,{name:"coding"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==($e=o.value.toolbarTips)?void 0:$e.htmlPreview])]);case"catalog":return d("div",{class:`${te}-toolbar-item`,title:null==(Ce=o.value.toolbarTips)?void 0:Ce.catalog,onClick:()=>{he.emit(t,fe)},key:"bar-catalog"},[d(_e,{name:"catalog"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(xe=o.value.toolbarTips)?void 0:xe.catalog])]);case"github":return d("div",{class:`${te}-toolbar-item`,title:null==(Te=o.value.toolbarTips)?void 0:Te.github,onClick:()=>a("https://github.com/imzbf/md-editor-v3")},[d(_e,{name:"github"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(Se=o.value.toolbarTips)?void 0:Se.github])]);case"mermaid":return d(ue,{relative:`#${h}`,visible:k.mermaid,onChange:e=>{k.mermaid=e},overlay:d("ul",{class:`${te}-menu`,onClick:()=>{k.mermaid=!1}},[d("li",{class:`${te}-menu-item ${te}-menu-item-mermaid`,onClick:()=>{w("flow")}},[null==(Ae=o.value.mermaid)?void 0:Ae.flow]),d("li",{class:`${te}-menu-item ${te}-menu-item-mermaid`,onClick:()=>{w("sequence")}},[null==(Ee=o.value.mermaid)?void 0:Ee.sequence]),d("li",{class:`${te}-menu-item ${te}-menu-item-mermaid`,onClick:()=>{w("gantt")}},[null==(je=o.value.mermaid)?void 0:je.gantt]),d("li",{class:`${te}-menu-item ${te}-menu-item-mermaid`,onClick:()=>{w("class")}},[null==(Me=o.value.mermaid)?void 0:Me.class]),d("li",{class:`${te}-menu-item ${te}-menu-item-mermaid`,onClick:()=>{w("state")}},[null==(He=o.value.mermaid)?void 0:He.state]),d("li",{class:`${te}-menu-item ${te}-menu-item-mermaid`,onClick:()=>{w("pie")}},[null==(Oe=o.value.mermaid)?void 0:Oe.pie]),d("li",{class:`${te}-menu-item ${te}-menu-item-mermaid`,onClick:()=>{w("relationship")}},[null==(Be=o.value.mermaid)?void 0:Be.relationship]),d("li",{class:`${te}-menu-item ${te}-menu-item-mermaid`,onClick:()=>{w("journey")}},[null==(Pe=o.value.mermaid)?void 0:Pe.journey])]),key:"bar-mermaid"},{default:()=>{var t,l;return[d("div",{class:`${te}-toolbar-item`,title:null==(t=o.value.toolbarTips)?void 0:t.mermaid},[d(_e,{name:"mermaid"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(l=o.value.toolbarTips)?void 0:l.mermaid])])]}});case"katex":return d(ue,{relative:`#${h}`,visible:k.katex,onChange:e=>{k.katex=e},overlay:d("ul",{class:`${te}-menu`,onClick:()=>{k.katex=!1}},[d("li",{class:`${te}-menu-item ${te}-menu-item-katex`,onClick:()=>{w("katexInline")}},[null==(Ve=o.value.katex)?void 0:Ve.inline]),d("li",{class:`${te}-menu-item ${te}-menu-item-katex`,onClick:()=>{w("katexBlock")}},[null==(Ne=o.value.katex)?void 0:Ne.block])]),key:"bar-katex"},{default:()=>{var t,l;return[d("div",{class:`${te}-toolbar-item`,title:null==(t=o.value.toolbarTips)?void 0:t.katex},[d(_e,{name:"formula"},null),e.showToolbarName&&d("div",{class:`${te}-toolbar-item-name`},[null==(l=o.value.toolbarTips)?void 0:l.katex])])]}})}};return p((()=>e.toolbars),(()=>{y((()=>{f.value&&n(f.value)}))}),{immediate:!0}),()=>{const t=T.value[0].map((e=>A(e))),o=T.value[1].map((e=>A(e)));return d(C,null,[e.toolbars.length>0&&d("div",{class:`${te}-toolbar-wrapper`,ref:f,id:h},[d("div",{class:[`${te}-toolbar`,e.showToolbarName&&`${te}-stn`]},[d("div",{class:`${te}-toolbar-left`,ref:x},[t]),d("div",{class:`${te}-toolbar-right`},[o])])]),d("input",{ref:S,accept:"image/*",type:"file",multiple:!0,style:{display:"none"}},null),d(Mo,{linkVisible:$.linkVisible,clipVisible:$.clipVisible,type:$.type,onCancel:()=>{$.linkVisible=!1,$.clipVisible=!1},onOk:e=>{e&&w($.type,{desc:e.desc,url:e.url,transform:"image"===$.type}),$.linkVisible=!1,$.clipVisible=!1}},null)])}}}),Oo=`.${te}-preview > [data-line]`,Bo=(e,t)=>+getComputedStyle(e).getPropertyValue(t).replace("px",""),Po=(e,t)=>{const l=o((()=>{e.removeEventListener("scroll",n),e.addEventListener("scroll",n),t.removeEventListener("scroll",n),t.addEventListener("scroll",n)}),50),n=o=>{const a=e.clientHeight,i=t.clientHeight,r=(e.scrollHeight-a)/(t.scrollHeight-i);o.target===e?(t.removeEventListener("scroll",n),t.scrollTo({top:e.scrollTop/r}),l()):(e.removeEventListener("scroll",n),e.scrollTo({top:t.scrollTop*r}),l())};return[()=>{l().finally((()=>{e.dispatchEvent(new Event("scroll"))}))},()=>{e.removeEventListener("scroll",n),t.removeEventListener("scroll",n)}]},Vo=(e,t,o)=>{const{view:l}=o,n=r(),a=e=>l.lineBlockAt(l.state.doc.line(e+1).from).top,s=e=>l.lineBlockAt(l.state.doc.line(e+1).from).bottom;let c=[],d=[],u=[];const m=(e,t)=>{let o=1;for(let l=d.length-1;l-1>=0;l--){const e=d[l],n=d[l-1];if(e.offsetTop+e.offsetHeight>t&&n.offsetTop<t){o=Number(n.dataset.line);break}}for(let l=c.length-1;l>=0;l--){const t=s(c[l].end),n=a(c[l].start);if(t>e&&n<=e){o=o<c[l].start?o:c[l].start;break}}return o};let p=0,g=0;const h=i((o=>{var i;const{scrollDOM:r,contentHeight:h}=l;return!(h<=r.clientHeight||t.firstElementChild.clientHeight<=t.clientHeight)&&(!(l.state.doc.lines<=(null==(i=c[c.length-1])?void 0:i.end))&&void(o.target===e?(()=>{var e,o,i;if(0!==g)return!1;p++;const{scrollDOM:r,contentHeight:d}=l;let u=Bo(t,"padding-top");const h=l.lineBlockAtHeight(r.scrollTop),{number:v}=l.state.doc.lineAt(h.from),f=c[v-1];if(!f)return!1;let b=1;const y=t.querySelector(`[data-line="${f.start}"]`)||(null==(e=t.firstElementChild)?void 0:e.firstElementChild),k=t.querySelector(`[data-line="${f.end+1}"]`)||(null==(o=t.lastElementChild)?void 0:o.lastElementChild),w=r.scrollHeight-r.clientHeight,$=t.scrollHeight-t.clientHeight;let C=a(f.start),x=s(f.end),T=y.offsetTop,S=k.offsetTop-T;if(0===C&&(T=0,y===k?(u=0,x=d-r.offsetHeight,S=$):S=k.offsetTop),b=(r.scrollTop-C+Bo(l.contentDOM,"padding-bottom"))/(x-C),C>0&&(x>=w||k.offsetTop+k.clientHeight>$)){const e=m(w,$);C=a(e),b=(r.scrollTop-C)/(w-C),T=(null==(i=document.querySelector(`[data-line="${e}"]`))?void 0:i.offsetTop)||T,S=$-T+Bo(t,"padding-top")}n(t,T-u+S*b,(()=>{p--}))})():(()=>{var o,i,r,s,h,v,f;if(0!==p)return;g++;const{scrollDOM:b}=l,y=t.scrollTop,k=t.scrollHeight,w=b.scrollHeight-b.clientHeight,$=t.scrollHeight-t.clientHeight;let C=null==(o=t.firstElementChild)?void 0:o.firstElementChild,x=null==(i=t.firstElementChild)?void 0:i.lastElementChild;if(u.length>0){let e=Math.ceil(u[u.length-1]*(y/k)),o=u.findLastIndex((t=>t<=e));o=-1===o?0:o,e=u[o];for(let t=o;t>=0&&t<u.length;){if(d[t].offsetTop>y){if(t-1>=0){t--;continue}e=-1,o=t;break}if(!(t+1<u.length&&d[t+1].offsetTop<y)){e=u[t],o=t;break}t++}switch(o){case-1:C=null==(r=t.firstElementChild)?void 0:r.firstElementChild,x=d[o];break;case u.length-1:C=d[o],x=null==(s=t.firstElementChild)?void 0:s.lastElementChild;break;default:C=d[o],x=d[o+1===d.length?o:o+1]}}let T=C===(null==(h=t.firstElementChild)?void 0:h.firstElementChild)?0:C.offsetTop,S=x.offsetTop,I=0;const{start:A,end:E}=c[Number(C.dataset.line||0)];let F=a(A);const L=a(E+1===l.state.doc.lines?E:E+1);let j=0;if(L>w||x.offsetTop+x.offsetHeight>$){const e=m(w,$);T=(null==(v=document.querySelector(`[data-line="${e}"]`))?void 0:v.offsetTop)||T,F=a(e),I=(y-T)/($-T),j=w-F}else C===(null==(f=t.firstElementChild)?void 0:f.firstElementChild)?(C===x?(S=x.offsetTop+x.offsetHeight+ +getComputedStyle(x).marginBottom.replace("px",""),j=L):j=L,I=Math.max(y/S,0)):(I=Math.max((y-T)/(S-T),0),j=L-F);n(e,F+j*I,(()=>{g--}))})()))}),1);return[()=>{(()=>{c=[],d=Array.from(t.querySelectorAll(Oo)),u=d.map((e=>Number(e.dataset.line)));const e=[...u],{lines:o}=l.state.doc;let n=e.shift()||0,a=e.shift()||o;for(let t=0;t<o;t++)t===a&&(n=t,a=e.shift()||o),c.push({start:n,end:a-1})})(),e.addEventListener("scroll",h),t.addEventListener("scroll",h),e.dispatchEvent(new Event("scroll"))},()=>{e.removeEventListener("scroll",h),t.removeEventListener("scroll",h)}]},No=(e,t,o)=>{var l;let n="",a=0,i=0,r=!0,s=!1;const c=t.getSelectedText(),d=se.editorConfig.mermaidTemplate;if(/^h[1-6]{1}$/.test(e)){const t=e.replace(/^h(\d)/,((e,t)=>new Array(Number(t)).fill("#",0,t).join("")));n=`${t} ${c}`,a=t.length+1}else if("prettier"===e){const e=window.prettier||se.editorExtensions.prettier.prettierInstance,a=[(null==(l=window.prettierPlugins)?void 0:l.markdown)||se.editorExtensions.prettier.parserMarkdownInstance];e&&void 0!==a[0]?n=e.format(t.getValue(),{parser:"markdown",plugins:a}):(he.emit(o.editorId,Se,{name:"prettier",message:"prettier is undefined"}),n=t.getValue()),r=!1,s=!0}else switch(e){case"bold":n=`**${c}**`,a=2,i=-2;break;case"underline":n=`<u>${c}</u>`,a=3,i=-4;break;case"italic":n=`*${c}*`,a=1,i=-1;break;case"strikeThrough":n=`~~${c}~~`,a=2,i=-2;break;case"sub":n=`<sub>${c}</sub>`,a=5,i=-6;break;case"sup":n=`<sup>${c}</sup>`,a=5,i=-6;break;case"codeRow":n="`"+c+"`",a=1,i=-1;break;case"quote":n=`> ${c}`,a=2;break;case"orderedList":n=`1. ${c}`,a=3;break;case"unorderedList":n=`- ${c}`,a=2;break;case"task":n=`- [ ] ${c}`,a=6;break;case"code":{const e=o.text||c||"",t=o.mode||"language";n=`\`\`\`${t}\n${e}\n\`\`\`\n`,a=3,i=3+t.length-n.length;break}case"table":{n="|";const{selectedShape:e={x:1,y:1}}=o,{x:t,y:l}=e;for(let o=0;o<=l;o++)n+=" col |";n+="\n|";for(let o=0;o<=l;o++)n+=" - |";for(let o=0;o<=t;o++){n+="\n|";for(let e=0;e<=l;e++)n+=" content |"}a=2,i=5-n.length;break}case"link":{const{desc:e,url:t}=o;n=`[${e}](${t})`,r=!1;break}case"image":{const{desc:e,url:t,urls:l}=o;n=l instanceof Array?l.reduce(((e,t)=>{const{url:o="",alt:l="",title:n=""}="object"==typeof t?t:{url:t};return e+`![${l}](${o}${n?" '"+n+"'":""})\n`}),""):`![${e}](${t})\n`,r=!1;break}case"flow":n=`\`\`\`mermaid\n${(null==d?void 0:d.flow)||"flowchart TD \n  Start --\x3e Stop"}\n\`\`\`\n`,a=3,i=10-n.length;break;case"sequence":n=`\`\`\`mermaid\n${(null==d?void 0:d.sequence)||"sequenceDiagram\n  A->>B: hello!\n  B--\x3e>A: hi!\n  A-)B: bye!"}\n\`\`\`\n`,a=3,i=10-n.length;break;case"gantt":n=`\`\`\`mermaid\n${(null==d?void 0:d.gantt)||"gantt\ntitle A Gantt Diagram\ndateFormat  YYYY-MM-DD\nsection Section\nA task  :a1, 2014-01-01, 30d\nAnother task  :after a1, 20d"}\n\`\`\`\n`,a=3,i=10-n.length;break;case"class":n=`\`\`\`mermaid\n${(null==d?void 0:d.class)||"classDiagram\n  class Animal\n  Vehicle <|-- Car"}\n\`\`\`\n`,a=3,i=10-n.length;break;case"state":n=`\`\`\`mermaid\n${(null==d?void 0:d.state)||"stateDiagram-v2\n  s1 --\x3e s2"}\n\`\`\`\n`,a=3,i=10-n.length;break;case"pie":n=`\`\`\`mermaid\n${(null==d?void 0:d.pie)||'pie title Pets adopted by volunteers\n  "Dogs" : 386\n  "Cats" : 85\n  "Rats" : 15'}\n\`\`\`\n`,a=3,i=10-n.length;break;case"relationship":n=`\`\`\`mermaid\n${(null==d?void 0:d.relationship)||"erDiagram\n  CAR ||--o{ NAMED-DRIVER : allows\n  PERSON ||--o{ NAMED-DRIVER : is"}\n\`\`\`\n`,a=3,i=10-n.length;break;case"journey":n=`\`\`\`mermaid\n${(null==d?void 0:d.journey)||"journey\n  title My working day\n  section Go to work\n    Make tea: 5: Me\n    Go upstairs: 3: Me\n    Do work: 1: Me, Cat\n  section Go home\n    Go downstairs: 5: Me\n    Sit down: 5: Me"}\n\`\`\`\n`,a=3,i=10-n.length;break;case"katexInline":n="$$",a=1,i=-1;break;case"katexBlock":n="$$\n\n$$\n",a=3,i=-4;break;case"universal":{const{generate:e}=o,t=e(c);n=t.targetValue,r=t.select??!0,a=t.deviationStart||0,i=t.deviationEnd||0}}return{text:n,options:{select:r,deviationStart:a,deviationEnd:i,replaceAll:s}}},Do="var(--md-color)",zo="var(--md-color)",Ro="#e5c07b",_o="#d19a66",Wo="var(--md-bk-color)",qo="var(--md-bk-color)",Uo="#528bff",Ko=[I.theme({"&":{color:zo,backgroundColor:Wo},".cm-content":{caretColor:Uo},".cm-cursor, .cm-dropCursor":{borderLeftColor:Uo},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"#ceedfa33"},".cm-panels":{backgroundColor:"#21252b",color:zo},".cm-panels.cm-panels-top":{borderBottom:"1px solid var(--md-border-color)"},".cm-panels.cm-panels-bottom":{borderTop:"1px solid var(--md-border-color)"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#ceedfa33"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Wo,color:zo,borderRight:"1px solid",borderColor:"var(--md-border-color)"},".cm-activeLineGutter":{backgroundColor:"#2c313a"},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid var(--md-border-color)",backgroundColor:qo},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:qo,borderBottomColor:qo},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{color:zo}}},{dark:!0}),E(A.define([{tag:G.keyword,color:"#c678dd"},{tag:[G.name,G.deleted,G.character,G.propertyName,G.macroName],color:Do},{tag:[G.function(G.variableName),G.labelName],color:"#e5c07b"},{tag:[G.color,G.constant(G.name),G.standard(G.name)],color:_o},{tag:[G.definition(G.name),G.separator],color:zo},{tag:[G.typeName,G.className,G.number,G.changed,G.annotation,G.modifier,G.self,G.namespace],color:"#e5c07b"},{tag:[G.operator,G.operatorKeyword,G.url,G.escape,G.regexp,G.link,G.special(G.string)],color:"#56b6c2"},{tag:[G.meta,G.comment],color:Ro},{tag:G.strong,fontWeight:"bold"},{tag:G.emphasis,fontStyle:"italic"},{tag:G.strikethrough,textDecoration:"line-through"},{tag:G.link,color:Ro,textDecoration:"underline"},{tag:G.heading,fontWeight:"bold",color:Do},{tag:[G.atom,G.bool,G.special(G.variableName)],color:_o},{tag:[G.processingInstruction,G.string,G.inserted],color:"var(--md-color)"},{tag:G.invalid,color:"#ffffff"}]))],Go="#3f4a54",Xo="#3f4a54",Zo="#2d8cf0",Jo="#d19a66",Yo="var(--md-bk-color)",Qo="var(--md-bk-color)",el="#3f4a54",tl=[I.theme({"&":{color:Xo,backgroundColor:Yo},".cm-content":{caretColor:el},".cm-cursor, .cm-dropCursor":{borderLeftColor:el},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"#bad5fa"},".cm-panels":{backgroundColor:"#f6f6f6",color:Xo},".cm-panels.cm-panels-top":{borderBottom:"1px solid var(--md-border-color)"},".cm-panels.cm-panels-bottom":{borderTop:"1px solid var(--md-border-color)"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#ceedfa33"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Yo,color:Xo,borderRight:"1px solid",borderColor:"var(--md-border-color)"},".cm-activeLineGutter":{backgroundColor:"#ceedfa33"},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid var(--md-border-color)",backgroundColor:Qo},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Qo,borderBottomColor:Qo},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{color:Xo}}}),E(A.define([{tag:G.keyword,color:"#c678dd"},{tag:[G.name,G.deleted,G.character,G.propertyName,G.macroName],color:Go},{tag:[G.function(G.variableName),G.labelName],color:"#2d8cf0"},{tag:[G.color,G.constant(G.name),G.standard(G.name)],color:Jo},{tag:[G.definition(G.name),G.separator],color:Xo},{tag:[G.typeName,G.className,G.number,G.changed,G.annotation,G.modifier,G.self,G.namespace],color:"#e5c07b"},{tag:[G.operator,G.operatorKeyword,G.url,G.escape,G.regexp,G.link,G.special(G.string)],color:"#56b6c2"},{tag:[G.meta,G.comment],color:Zo},{tag:G.strong,fontWeight:"bold"},{tag:G.emphasis,fontStyle:"italic"},{tag:G.strikethrough,textDecoration:"line-through"},{tag:G.link,color:Zo,textDecoration:"underline"},{tag:G.heading,fontWeight:"bold",color:Go},{tag:[G.atom,G.bool,G.special(G.variableName)],color:Jo},{tag:[G.processingInstruction,G.string,G.inserted],color:"#3f4a54"},{tag:G.invalid,color:"#fff"}]))],ol=(e,t,o,l,n)=>(a,i,r,s)=>{const c=`${e}${t}`.slice(s-r);a.dispatch(a.state.replaceSelection(`${c}${o}${l}`));const d=r+i.label.length+("title"===n?o.length:0);a.dispatch({selection:N.create([N.range(r+i.label.length+("title"===n?1:-t.length),d),N.cursor(d)],1)}),a.focus()},ll=e=>(t,o,l,n)=>{const a=e.slice(n-l);t.dispatch(t.state.replaceSelection(`${a} `))},nl=e=>{const t=e=>{const t=e.matchBefore(/^#+|^-\s*\[*\s*\]*|`+|\[|!\[*|^\|\s?\|?|\$\$?|!+\s*\w*/);return null===t||t.from==t.to&&e.explicit?null:{from:t.from,options:[...["h1","h2","h3","h4","h5","h6"].map(((e,t)=>{const o=new Array(t+1).fill("#").join("");return{label:o,type:"text",apply:ll(o)}})),...["unchecked","checked"].map((e=>{const t="checked"===e?"- [x]":"- [ ]";return{label:t,type:"text",apply:ll(t)}})),...[["`",""],["```","language"],["```mermaid\n",""]].map((e=>({label:`${e[0]}${e[1]}`,type:"text",apply:ol(e[0],e[1],"","`"===e[0]?"`":"\n```","type")}))),{label:"[]()",type:"text"},{label:"![]()",type:"text"},{label:"| |",type:"text",detail:"table",apply:"| col | col | col |\n| - | - | - |\n| content | content | content |\n| content | content | content |"},{label:"$",type:"text",apply:ol("$","","","$","type")},{label:"$$",type:"text",apply:ol("$$","","\n","\n$$","title")},...["note","abstract","info","tip","success","question","warning","failure","danger","bug","example","quote","hint","caution","error","attention"].map((e=>({label:`!!! ${e}`,type:"text",apply:ol("!!!",` ${e}`," Title","\n\n!!!","title")})))]}};return V({override:e?[t,...e]:[t]})},al=e=>{const t=new _;return o=>(t.get(e.state)?e.dispatch({effects:t.reconfigure(o)}):e.dispatch({effects:U.appendConfig.of(t.of(o))}),!0)};class il{constructor(e){Io(this,"view"),Io(this,"maxLength",Number.MAX_SAFE_INTEGER),Io(this,"toggleTabSize"),Io(this,"togglePlaceholder"),Io(this,"setExtensions"),Io(this,"toggleDisabled"),Io(this,"toggleReadOnly"),Io(this,"toggleMaxlength"),this.view=e,this.toggleTabSize=al(this.view),this.togglePlaceholder=al(this.view),this.setExtensions=al(this.view),this.toggleDisabled=al(this.view),this.toggleReadOnly=al(this.view),this.toggleMaxlength=al(this.view)}getValue(){return this.view.state.doc.toString()}setValue(e,t=0,o=this.view.state.doc.length){this.view.dispatch({changes:{from:t,to:o,insert:e}})}getSelectedText(){const{from:e,to:t}=this.view.state.selection.main;return this.view.state.sliceDoc(e,t)}replaceSelectedText(e,t={select:!0,deviationStart:0,deviationEnd:0,replaceAll:!1},o){try{if(t.replaceAll){if(this.setValue(e),e.length>this.maxLength)throw new Error("The input text is too long");return}if(this.view.state.doc.length-this.getSelectedText().length+e.length>this.maxLength)throw new Error("The input text is too long");const{from:o}=this.view.state.selection.main;if(this.view.dispatch(this.view.state.replaceSelection(e)),t.select){const l=o+e.length+t.deviationEnd;this.view.dispatch({selection:N.create([N.range(o+t.deviationStart,l),N.cursor(l)],1)})}this.view.focus()}catch(l){if("The input text is too long"!==l.message)throw l;he.emit(o,Se,{name:"overlength",message:l.message,data:e})}}setTabSize(e){this.toggleTabSize([D.tabSize.of(e),z.of(" ".repeat(e))])}setPlaceholder(e){this.togglePlaceholder(R(e))}focus(e){if(this.view.focus(),!e)return;let t=0,o=0,l=0;switch(e){case"start":break;case"end":t=o=l=this.getValue().length;break;default:t=e.rangeAnchor||e.cursorPos,o=e.rangeHead||e.cursorPos,l=e.cursorPos}this.view.dispatch({scrollIntoView:!0,selection:N.create([N.range(t,o),N.cursor(l)],1)})}setDisabled(e){this.toggleDisabled([I.editable.of(!e)])}setReadOnly(e){this.toggleReadOnly([D.readOnly.of(e)])}setMaxLength(e){this.maxLength=e,this.toggleMaxlength([D.changeFilter.of((t=>t.newDoc.length<=e))])}}const rl=e=>{const t=c("tabWidth"),o=c("editorId"),l=c("theme"),n=m(),a=f(),r=new _,s=new _,d=new _,u=new _,h=new _,v=(b=o,y=e,[{key:"Ctrl-b",mac:"Cmd-b",run:()=>(he.emit(b,Ie,"bold"),!0)},{key:"Ctrl-d",mac:"Cmd-d",run:K,preventDefault:!0},{key:"Ctrl-s",mac:"Cmd-s",run:e=>(he.emit(b,ve,e.state.doc.toString()),!0),shift:()=>(he.emit(b,Ie,"strikeThrough"),!0)},{key:"Ctrl-u",mac:"Cmd-u",run:()=>(he.emit(b,Ie,"underline"),!0),shift:()=>(he.emit(b,Ie,"unorderedList"),!0)},{key:"Ctrl-i",mac:"Cmd-i",run:()=>(he.emit(b,Ie,"italic"),!0),shift:()=>(he.emit(b,Ee,"image"),!0)},{key:"Ctrl-1",mac:"Cmd-1",run:()=>(he.emit(b,Ie,"h1"),!0)},{key:"Ctrl-2",mac:"Cmd-2",run:()=>(he.emit(b,Ie,"h2"),!0)},{key:"Ctrl-3",mac:"Cmd-3",run:()=>(he.emit(b,Ie,"h3"),!0)},{key:"Ctrl-4",mac:"Cmd-4",run:()=>(he.emit(b,Ie,"h4"),!0)},{key:"Ctrl-5",mac:"Cmd-5",run:()=>(he.emit(b,Ie,"h5"),!0)},{key:"Ctrl-6",mac:"Cmd-6",run:()=>(he.emit(b,Ie,"h6"),!0)},{key:"Ctrl-ArrowUp",mac:"Cmd-ArrowUp",run:()=>(he.emit(b,Ie,"sup"),!0)},{key:"Ctrl-ArrowDown",mac:"Cmd-ArrowDown",run:()=>(he.emit(b,Ie,"sub"),!0)},{key:"Ctrl-o",mac:"Cmd-o",run:()=>(he.emit(b,Ie,"orderedList"),!0)},{key:"Ctrl-c",mac:"Cmd-c",shift:()=>(he.emit(b,Ie,"code"),!0),any:(e,t)=>!(!t.ctrlKey&&!t.metaKey||!t.altKey||"KeyC"!==t.code||(he.emit(b,Ie,"codeRow"),0))},{key:"Ctrl-l",mac:"Cmd-l",run:()=>(he.emit(b,Ee,"link"),!0)},{key:"Ctrl-f",mac:"Cmd-f",shift:()=>!y.noPrettier&&(he.emit(b,Ie,"prettier"),!0)},{any:(e,t)=>!(!t.ctrlKey&&!t.metaKey||!t.altKey||!t.shiftKey||"KeyT"!==t.code||(he.emit(b,Ie,"table"),0))},...q]);var b,y;const k=m(!1),w=((e,t)=>{const o=c("editorId"),l=e=>{e instanceof Promise?e.then((e=>{he.emit(o,Ie,"universal",{generate:()=>({targetValue:e})})})).catch((e=>{console.error(e)})):he.emit(o,Ie,"universal",{generate:()=>({targetValue:e})})};return n=>{var a,i,r;if(!n.clipboardData)return;if(n.clipboardData.files.length>0){const{files:e}=n.clipboardData;return he.emit(o,Ae,Array.from(e).filter((e=>/image\/.*/.test(e.type)))),void n.preventDefault()}const s=n.clipboardData.getData("text/plain"),c=(null==(a=t.value)?void 0:a.view.state.selection.main.to)||0,d=(null==(i=t.value)?void 0:i.view.state.doc.lineAt(c).from)||0,u=(null==(r=t.value)?void 0:r.view.state.doc.sliceString(d,c))||"",m=/!\[.*\]\(\s*$/.test(u),p=/!\[.*\]\((.*)\s?.*\)/.test(s);if(m){const t=e.transformImgUrl(s);return l(t),void n.preventDefault()}if(p){const t=s.match(new RegExp("(?<=!\\[.*\\]\\()([^)\\s]+)(?=\\s?[\"']?.*[\"']?\\))","g"));return t?Promise.all(t.map((t=>e.transformImgUrl(t)))).then((e=>{l(e.reduce(((e,o,l)=>e.replace(t[l],o)),s))})):l(s),void n.preventDefault()}if(e.autoDetectCode&&n.clipboardData.types.includes("vscode-editor-data")){const e=JSON.parse(n.clipboardData.getData("vscode-editor-data"));return he.emit(o,Ie,"code",{mode:e.mode,text:n.clipboardData.getData("text/plain")}),void n.preventDefault()}e.maxlength&&s.length+e.modelValue.length>e.maxlength&&he.emit(o,Se,{name:"overlength",message:"The input text is too long",data:s})}})(e,a),$={paste:w,blur:e.onBlur,focus:e.onFocus,drop:e.onDrop,compositionstart:()=>{k.value=!0},compositionend:(t,o)=>{k.value=!1,e.updateModelValue(o.state.doc.toString())},input:t=>{e.onInput&&e.onInput(t);const{data:l}=t;e.maxlength&&e.modelValue.length+l.length>e.maxlength&&he.emit(o,Se,{name:"overlength",message:"The input text is too long",data:l})}},C=[F.of([...L,...j,...v,M]),u.of(H()),r.of(O({codeLanguages:W})),I.lineWrapping,I.updateListener.of((t=>{t.docChanged&&(e.onChange(t.state.doc.toString()),k.value||e.updateModelValue(t.state.doc.toString()))})),h.of(I.domEventHandlers($))],x=()=>{const t=[...C,s.of("light"===l.value?tl:Ko),d.of(nl(e.completions))];return se.codeMirrorExtensions(l.value,t,[...v])};return g((()=>{const l=new I({doc:e.modelValue,parent:n.value,extensions:[x()]}),r=new il(l);a.value=r,setTimeout((()=>{r.setTabSize(t),r.setDisabled(e.disabled),r.setReadOnly(e.readonly),e.placeholder&&r.setPlaceholder(e.placeholder),"number"==typeof e.maxlength&&r.setMaxLength(e.maxlength),e.autofocus&&l.focus()}),0),he.on(o,{name:Fe,callback(){B(l)}}),he.on(o,{name:Le,callback(){P(l)}}),he.on(o,{name:Ie,callback(t,l={}){var n,i;if("image"===t&&l.transform){const i=e.transformImgUrl(l.url);if(i instanceof Promise)i.then((e=>{var n;const{text:i,options:r}=No(t,a.value,{...l,url:e});null==(n=a.value)||n.replaceSelectedText(i,r,o)})).catch((e=>{console.error(e)}));else{const{text:e,options:r}=No(t,a.value,{...l,url:i});null==(n=a.value)||n.replaceSelectedText(e,r,o)}}else{const{text:e,options:n}=No(t,a.value,l);null==(i=a.value)||i.replaceSelectedText(e,n,o)}}}),he.on(o,{name:Oe,callback:i((e=>{var t;const o={...$},l=Object.keys($);for(const n in e){const t=n;l.includes(t)?o[t]=(o,l)=>{e[t](o,l),o.defaultPrevented||$[t](o,l)}:o[t]=e[t]}null==(t=a.value)||t.view.dispatch({effects:h.reconfigure(I.domEventHandlers(o))})}))})})),p(l,(()=>{var e;null==(e=a.value)||e.view.dispatch({effects:s.reconfigure("light"===l.value?tl:Ko)})}),{deep:!0}),p((()=>e.completions),(()=>{var t;null==(t=a.value)||t.view.dispatch({effects:d.reconfigure(nl(e.completions))})}),{deep:!0}),p((()=>e.modelValue),(()=>{var t,o;(null==(t=a.value)?void 0:t.getValue())!==e.modelValue&&(null==(o=a.value)||o.setValue(e.modelValue))})),p((()=>e.placeholder),(()=>{var t;null==(t=a.value)||t.setPlaceholder(e.placeholder)})),p((()=>e.disabled),(()=>{var t;null==(t=a.value)||t.setDisabled(e.disabled)})),p((()=>e.readonly),(()=>{var t;null==(t=a.value)||t.setDisabled(e.readonly)})),p((()=>e.maxlength),(()=>{var t;e.maxlength&&(null==(t=a.value)||t.setMaxLength(e.maxlength))})),{inputWrapperRef:n,codeMirrorUt:a,resetHistory(){var e,t;null==(e=a.value)||e.view.dispatch({effects:u.reconfigure([])}),null==(t=a.value)||t.view.dispatch({effects:u.reconfigure(H())})}}},sl=s({name:"MDEditorContent",props:mo,setup(e,t){const o=c("editorId"),l=m(""),n=m(),a=m(),{inputWrapperRef:i,codeMirrorUt:r,resetHistory:s}=rl(e),{inputWrapperStyle:v,resizeOperateStyle:f}=((e,t,o)=>{const l=u({resizedWidth:e.inputBoxWitdh}),n=u({width:e.inputBoxWitdh}),a=u({left:e.inputBoxWitdh,display:"initial"}),i=o=>{var i,r,s;const c=(null==(i=t.value)?void 0:i.offsetWidth)||0,d=(null==(r=t.value)?void 0:r.getBoundingClientRect().x)||0;let u=o.x-d;u<ce?u=ce:u>c-ce&&(u=c-ce);const m=`${u}px`;n.width=m,a.left=m,l.resizedWidth=m,null==(s=e.onInputBoxWitdhChange)||s.call(e,m)},r=()=>{document.addEventListener("mousemove",i)},s=()=>{document.removeEventListener("mousemove",i)};return p([o],(()=>{var e,t;null==(e=o.value)||e.addEventListener("mousedown",r),null==(t=o.value)||t.addEventListener("mouseup",s)}),{immediate:!0}),h((()=>{var e,t;null==(e=o.value)||e.removeEventListener("mousedown",r),null==(t=o.value)||t.removeEventListener("mouseup",s)})),p((()=>e.inputBoxWitdh),(e=>{e&&(l.resizedWidth=e,n.width=e,a.left=e)})),p([x(e.setting,"htmlPreview"),x(e.setting,"preview"),x(e.setting,"previewOnly")],(()=>{e.setting.previewOnly?(n.width="0%",a.display="none"):e.setting.htmlPreview||e.setting.preview?(n.width=l.resizedWidth,a.display="initial"):(n.width="100%",a.display="none")}),{immediate:!0}),{inputWrapperStyle:n,resizeOperateStyle:a}})(e,n,a);return((e,t,o)=>{const l=c("editorId");let n=()=>{},a=()=>{};const i=()=>{n();const t=document.querySelector(`#${l} .cm-scroller`),i=document.querySelector(`[id="${l}-preview-wrapper"]`),r=document.querySelector(`[id="${l}-html-wrapper"]`);if(i||r){const l=i?Vo:Po,s=i||r;[a,n]=l(t,s,o.value),e.scrollAuto&&a()}};p([t,x(e.setting,"preview"),x(e.setting,"htmlPreview"),x(e.setting,"fullscreen"),x(e.setting,"pageFullscreen")],(()=>{y(i)})),p((()=>e.scrollAuto),(e=>{e?a():n()})),p((()=>e.setting.previewOnly),(e=>{e?n():a()})),g(i)})(e,l,r),t.expose({getSelectedText(){var e;return null==(e=r.value)?void 0:e.getSelectedText()},focus(e){var t;null==(t=r.value)||t.focus(e)},resetHistory:s}),()=>d("div",{class:`${te}-content${e.setting.htmlPreview||e.setting.preview?" has-preview":""}`,ref:n},[d("div",{class:`${te}-input-wrapper`,style:v,ref:i},null),(e.setting.htmlPreview||e.setting.preview)&&d("div",{class:`${te}-resize-operate`,style:f,ref:a},null),d(po,{modelValue:e.modelValue,setting:e.setting,onHtmlChanged:t=>{l.value=t,e.onHtmlChanged(t)},onGetCatalog:e.onGetCatalog,mdHeadingId:e.mdHeadingId,noMermaid:e.noMermaid,sanitize:e.sanitize,noKatex:e.noKatex,formatCopiedText:e.formatCopiedText,noHighlight:e.noHighlight,noImgZoomIn:e.noImgZoomIn,sanitizeMermaid:e.sanitizeMermaid,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold},null),e.catalogVisible&&d(Co,{theme:e.theme,class:`${te}-catalog-editor`,editorId:o,mdHeadingId:e.mdHeadingId,key:"internal-catalog"},null)])}}),cl=s({props:{modelValue:{type:String,default:""}},setup(e){const t=c("usedLanguageText");return()=>{var o,l;return d("div",{class:`${te}-footer-item`},[d("label",{class:`${te}-footer-label`},[`${null==(o=t.value.footer)?void 0:o.markdownTotal}:`]),d("span",null,[(null==(l=e.modelValue)?void 0:l.length)||0])])}}}),dl=s({props:{checked:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}}},setup:e=>()=>d("div",{class:[`${te}-checkbox`,e.checked&&`${te}-checkbox-checked`],onClick:()=>{e.onChange(!e.checked)}},null)}),ul=s({props:{scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}}},setup(e){const t=c("usedLanguageText");return()=>{var o;return d("div",{class:`${te}-footer-item`},[d("label",{class:`${te}-footer-label`,onClick:()=>{e.onScrollAutoChange(!e.scrollAuto)}},[null==(o=t.value.footer)?void 0:o.scrollAuto]),d(dl,{checked:e.scrollAuto,onChange:e.onScrollAutoChange},null)])}}}),ml=s({name:"MDEditorFooter",props:{modelValue:{type:String,default:""},footers:{type:Array,default:[]},scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}},defFooters:{type:Object}},setup(e){const t=b((()=>{const t=e.footers.indexOf("=");return[-1===t?e.footers:e.footers.slice(0,t),-1===t?[]:e.footers.slice(t,Number.MAX_SAFE_INTEGER)]})),o=t=>{if(!ae.includes(t))return e.defFooters instanceof Array?e.defFooters[t]||"":e.defFooters&&e.defFooters.children instanceof Array&&e.defFooters.children[t]||"";switch(t){case"markdownTotal":return d(cl,{modelValue:e.modelValue},null);case"scrollSwitch":return d(ul,{scrollAuto:e.scrollAuto,onScrollAutoChange:e.onScrollAutoChange},null)}};return()=>{const e=t.value[0].map((e=>o(e))),l=t.value[1].map((e=>o(e)));return d("div",{class:`${te}-footer`},[d("div",{class:`${te}-footer-left`},[e]),d("div",{class:`${te}-footer-right`},[l])])}}}),pl=s({name:"MdEditorV3",props:fo,emits:yo,setup(e,t){const{editorId:o,noKatex:l,noMermaid:n,noPrettier:a,noUploadImg:i,noHighlight:r}=e,s=u({scrollAuto:e.scrollAuto}),c=m();((e,t)=>{const{editorId:o}=e,l=u({buildFinished:!1,html:""});p((()=>e.modelValue),(()=>{l.buildFinished=!1})),g((()=>{he.on(o,{name:Te,callback(e){l.buildFinished=!0,l.html=e}}),he.on(o,{name:ve,callback(){const n=new Promise((e=>{if(l.buildFinished)e(l.html);else{const t=l=>{e(l),he.remove(o,Te,t)};he.on(o,{name:Te,callback:t})}}));e.onSave?e.onSave(e.modelValue,n):t.emit("onSave",e.modelValue,n)}})}))})(e,t),(e=>{go(e),$("tabWidth",e.tabWidth)})(e),(e=>{const{noPrettier:t,noUploadImg:o}=e,{editorExtensions:l,editorExtensionsAttrs:n}=se,a=t||l.prettier.prettierInstance,i=t||l.prettier.parserMarkdownInstance,r=o||l.cropper.instance;g((()=>{if(!r){const{js:e={},css:t={}}=n.cropper||{};Pe("link",{...t,rel:"stylesheet",href:l.cropper.css,id:`${te}-cropperCss`}),Pe("script",{...e,src:l.cropper.js,id:`${te}-cropper`})}if(!a){const{standaloneJs:e={}}=n.prettier||{};Pe("script",{...e,src:l.prettier.standaloneJs,id:`${te}-prettier`})}if(!i){const{parserMarkdownJs:e={}}=n.prettier||{};Pe("script",{...e,src:l.prettier.parserMarkdownJs,id:`${te}-prettierMD`})}})),ho(e)})(e),((e,t)=>{const{editorId:o}=e;g((()=>{he.on(o,{name:Se,callback:o=>{e.onError instanceof Function?e.onError(o):t.emit("onError",o)}})}))})(e,t);const[v,f]=((e,t)=>{const{editorId:o}=e,l=u({pageFullscreen:e.pageFullscreen,fullscreen:!1,preview:e.preview,htmlPreview:!e.preview&&e.htmlPreview,previewOnly:!1}),n=u({...l});let a="";const i=()=>{l.pageFullscreen||l.fullscreen?document.body.style.overflow="hidden":document.body.style.overflow=a};return p((()=>[l.pageFullscreen,l.fullscreen]),i),g((()=>{he.on(o,{name:Ae,callback(l,n){const a=e=>{he.emit(o,Ie,"image",{desc:"",urls:e}),n&&n()};e.onUploadImg?e.onUploadImg(l,a):t.emit("onUploadImg",l,a)}}),a=document.body.style.overflow,i()})),[l,(e,t)=>{const o=void 0===t?!l[e]:t;switch(e){case"preview":l.htmlPreview=!1,l.previewOnly=!1;break;case"htmlPreview":l.preview=!1,l.previewOnly=!1;break;case"previewOnly":o?l.preview||l.htmlPreview||(l.preview=!0):(n.preview||(l.preview=!1),n.htmlPreview||(l.htmlPreview=!1))}n[e]=o,l[e]=o}]})(e,t),y=(e=>{const{editorId:t}=e,o=m(!1);return g((()=>{he.on(t,{name:fe,callback:e=>{o.value=void 0===e?!o.value:e}})})),b((()=>!e.toolbarsExclude.includes("catalog")&&e.toolbars.includes("catalog")&&o.value))})(e);return h((()=>{he.clear(o)})),((e,t,o,l,n,a)=>{const{editorId:i}=e;p((()=>l.pageFullscreen),(e=>{he.emit(i,ye,e)})),p((()=>l.fullscreen),(e=>{he.emit(i,ke,e)})),p((()=>l.preview),(e=>{he.emit(i,we,e)})),p((()=>l.previewOnly),(e=>{he.emit(i,$e,e)})),p((()=>l.htmlPreview),(e=>{he.emit(i,Ce,e)})),p(o,(e=>{he.emit(i,xe,e)}));const r={on(e,t){switch(e){case"pageFullscreen":he.on(i,{name:ye,callback(e){t(e)}});break;case"fullscreen":he.on(i,{name:ke,callback(e){t(e)}});break;case"preview":he.on(i,{name:we,callback(e){t(e)}});break;case"previewOnly":he.on(i,{name:$e,callback(e){t(e)}});break;case"htmlPreview":he.on(i,{name:Ce,callback(e){t(e)}});break;case"catalog":he.on(i,{name:xe,callback(e){t(e)}})}},togglePageFullscreen(e){n("pageFullscreen",e)},toggleFullscreen(e){he.emit(i,be,e)},togglePreview(e){n("preview",e)},togglePreviewOnly(e){n("previewOnly",e)},toggleHtmlPreview(e){n("htmlPreview",e)},toggleCatalog(e){he.emit(i,fe,e)},triggerSave(){he.emit(i,ve)},insert(e){he.emit(i,Ie,"universal",{generate:e})},focus(e){var t;null==(t=a.value)||t.focus(e)},rerender(){he.emit(i,He)},getSelectedText(){var e;return null==(e=a.value)?void 0:e.getSelectedText()},resetHistory(){var e;null==(e=a.value)||e.resetHistory()},domEventHandlers(e){he.emit(i,Oe,e)},execCommand(e){he.emit(i,Ie,e)}};t.expose(r)})(e,t,y,v,f,c),()=>{const u=de({props:e,ctx:t},"defToolbars"),m=de({props:e,ctx:t},"defFooters");return d("div",{id:o,class:[te,e.class,"dark"===e.theme&&`${te}-dark`,v.fullscreen||v.pageFullscreen?`${te}-fullscreen`:""],style:e.style},[e.toolbars.length>0&&d(Ho,{noPrettier:a,toolbars:e.toolbars,toolbarsExclude:e.toolbarsExclude,setting:v,updateSetting:f,tableShape:e.tableShape,defToolbars:u,noUploadImg:i,showToolbarName:e.showToolbarName},null),d(sl,{ref:c,modelValue:e.modelValue,setting:v,mdHeadingId:e.mdHeadingId,noMermaid:n,noPrettier:a,sanitize:e.sanitize,placeholder:e.placeholder,noKatex:l,scrollAuto:s.scrollAuto,formatCopiedText:e.formatCopiedText,autofocus:e.autoFocus,disabled:e.disabled,readonly:e.readOnly,maxlength:e.maxLength,autoDetectCode:e.autoDetectCode,noHighlight:r,updateModelValue:e=>{t.emit("update:modelValue",e)},onChange:o=>{e.onChange&&e.onChange(o),t.emit("onChange",o)},onHtmlChanged:o=>{e.onHtmlChanged&&e.onHtmlChanged(o),t.emit("onHtmlChanged",o)},onGetCatalog:o=>{e.onGetCatalog&&e.onGetCatalog(o),t.emit("onGetCatalog",o)},onBlur:o=>{e.onBlur&&e.onBlur(o),t.emit("onBlur",o)},onFocus:o=>{e.onFocus&&e.onFocus(o),t.emit("onFocus",o)},onInput:o=>{e.onInput&&e.onInput(o),t.emit("onInput",o)},completions:e.completions,catalogVisible:y.value,theme:e.theme,noImgZoomIn:e.noImgZoomIn,onDrop:o=>{e.onDrop&&e.onDrop(o),t.emit("onDrop",o)},inputBoxWitdh:e.inputBoxWitdh,onInputBoxWitdhChange:o=>{e.onInputBoxWitdhChange&&e.onInputBoxWitdhChange(o),t.emit("onInputBoxWitdhChange",o)},sanitizeMermaid:e.sanitizeMermaid,transformImgUrl:e.transformImgUrl,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold},null),e.footers.length>0&&d(ml,{modelValue:e.modelValue,footers:e.footers,defFooters:m,scrollAuto:s.scrollAuto,onScrollAutoChange:e=>s.scrollAuto=e},null)])}}});pl.install=e=>(e.component(pl.name,pl),e.use(xo).use(me).use(To).use(Co).use(ko),e);export{pl as E};
