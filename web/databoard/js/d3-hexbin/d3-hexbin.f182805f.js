var n=Math.PI/3,r=[0,n,2*n,3*n,4*n,5*n];function t(n){return n[0]}function u(n){return n[1]}function e(){var e,a,i,o=0,c=0,h=1,f=1,l=t,s=u;function v(n){var r,t={},u=[],e=n.length;for(r=0;r<e;++r)if(!isNaN(c=+l.call(null,o=n[r],r,n))&&!isNaN(h=+s.call(null,o,r,n))){var o,c,h,f=Math.round(h/=i),v=Math.round(c=c/a-(1&f)/2),M=h-f;if(3*Math.abs(M)>1){var g=c-v,d=v+(c<v?-1:1)/2,p=f+(h<f?-1:1),m=c-d,x=h-p;g*g+M*M>m*m+x*x&&(v=d+(1&f?1:-1)/2,f=p)}var N=v+"-"+f,j=t[N];j?j.push(o):(u.push(j=t[N]=[o]),j.x=(v+(1&f)/2)*a,j.y=f*i)}return u}function M(n){var t=0,u=0;return r.map((function(r){var e=Math.sin(r)*n,a=-Math.cos(r)*n,i=e-t,o=a-u;return t=e,u=a,[i,o]}))}return v.hexagon=function(n){return"m"+M(null==n?e:+n).join("l")+"z"},v.centers=function(){for(var n=[],r=Math.round(c/i),t=Math.round(o/a),u=r*i;u<f+e;u+=i,++r)for(var l=t*a+(1&r)*a/2;l<h+a/2;l+=a)n.push([l,u]);return n},v.mesh=function(){var n=M(e).slice(0,4).join("l");return v.centers().map((function(r){return"M"+r+"m"+n})).join("")},v.x=function(n){return arguments.length?(l=n,v):l},v.y=function(n){return arguments.length?(s=n,v):s},v.radius=function(r){return arguments.length?(a=2*(e=+r)*Math.sin(n),i=1.5*e,v):e},v.size=function(n){return arguments.length?(o=c=0,h=+n[0],f=+n[1],v):[h-o,f-c]},v.extent=function(n){return arguments.length?(o=+n[0][0],c=+n[0][1],h=+n[1][0],f=+n[1][1],v):[[o,c],[h,f]]},v.radius(1)}export{e as h};
